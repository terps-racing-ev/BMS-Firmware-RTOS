ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"error_manager.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/error_manager.c"
  20              		.section	.text.ErrorMgr_Init,"ax",%progbits
  21              		.align	1
  22              		.global	ErrorMgr_Init
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	ErrorMgr_Init:
  28              	.LFB292:
   1:Core/Src/error_manager.c **** /* USER CODE BEGIN Header */
   2:Core/Src/error_manager.c **** /**
   3:Core/Src/error_manager.c ****   ******************************************************************************
   4:Core/Src/error_manager.c ****   * @file           : error_manager.c
   5:Core/Src/error_manager.c ****   * @brief          : BMS Error Management System Implementation
   6:Core/Src/error_manager.c ****   ******************************************************************************
   7:Core/Src/error_manager.c ****   * @attention
   8:Core/Src/error_manager.c ****   *
   9:Core/Src/error_manager.c ****   * Copyright (c) 2025 STMicroelectronics.
  10:Core/Src/error_manager.c ****   * All rights reserved.
  11:Core/Src/error_manager.c ****   *
  12:Core/Src/error_manager.c ****   * This software is licensed under terms that can be found in the LICENSE file
  13:Core/Src/error_manager.c ****   * in the root directory of this software component.
  14:Core/Src/error_manager.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Core/Src/error_manager.c ****   *
  16:Core/Src/error_manager.c ****   ******************************************************************************
  17:Core/Src/error_manager.c ****   */
  18:Core/Src/error_manager.c **** /* USER CODE END Header */
  19:Core/Src/error_manager.c **** 
  20:Core/Src/error_manager.c **** /* Includes ------------------------------------------------------------------*/
  21:Core/Src/error_manager.c **** #include "error_manager.h"
  22:Core/Src/error_manager.c **** #include <string.h>
  23:Core/Src/error_manager.c **** 
  24:Core/Src/error_manager.c **** /* Private variables ---------------------------------------------------------*/
  25:Core/Src/error_manager.c **** static Error_Manager_t error_mgr = {0};
  26:Core/Src/error_manager.c **** static osMutexId_t error_mutex = NULL;
  27:Core/Src/error_manager.c **** static const osMutexAttr_t error_mutex_attributes = {
  28:Core/Src/error_manager.c ****     .name = "ErrorMutex"
  29:Core/Src/error_manager.c **** };
  30:Core/Src/error_manager.c **** 
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 2


  31:Core/Src/error_manager.c **** /* Function Implementations --------------------------------------------------*/
  32:Core/Src/error_manager.c **** 
  33:Core/Src/error_manager.c **** /**
  34:Core/Src/error_manager.c ****   * @brief  Initialize error manager
  35:Core/Src/error_manager.c ****   * @retval HAL_StatusTypeDef
  36:Core/Src/error_manager.c ****   */
  37:Core/Src/error_manager.c **** HAL_StatusTypeDef ErrorMgr_Init(void)
  38:Core/Src/error_manager.c **** {
  29              		.loc 1 38 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 10B5     		push	{r4, lr}
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 4, -8
  36              		.cfi_offset 14, -4
  39:Core/Src/error_manager.c ****     // Initialize error manager structure
  40:Core/Src/error_manager.c ****     memset(&error_mgr, 0, sizeof(Error_Manager_t));
  37              		.loc 1 40 5 view .LVU1
  38 0002 0A4C     		ldr	r4, .L5
  39 0004 0023     		movs	r3, #0
  40 0006 2360     		str	r3, [r4]
  41 0008 6360     		str	r3, [r4, #4]
  42 000a A360     		str	r3, [r4, #8]
  43 000c E360     		str	r3, [r4, #12]
  44 000e 2361     		str	r3, [r4, #16]
  41:Core/Src/error_manager.c ****     
  42:Core/Src/error_manager.c ****     // Set initial state
  43:Core/Src/error_manager.c ****     error_mgr.state = BMS_STATE_INIT;
  45              		.loc 1 43 5 view .LVU2
  44:Core/Src/error_manager.c ****     error_mgr.uptime_seconds = 0;
  46              		.loc 1 44 5 view .LVU3
  45:Core/Src/error_manager.c ****     error_mgr.fault_count = 0;
  47              		.loc 1 45 5 view .LVU4
  46:Core/Src/error_manager.c ****     error_mgr.last_heartbeat = osKernelGetTickCount();
  48              		.loc 1 46 5 view .LVU5
  49              		.loc 1 46 32 is_stmt 0 view .LVU6
  50 0010 FFF7FEFF 		bl	osKernelGetTickCount
  51              	.LVL0:
  52              		.loc 1 46 30 discriminator 1 view .LVU7
  53 0014 2061     		str	r0, [r4, #16]
  47:Core/Src/error_manager.c ****     
  48:Core/Src/error_manager.c ****     // Create mutex for thread-safe access
  49:Core/Src/error_manager.c ****     error_mutex = osMutexNew(&error_mutex_attributes);
  54              		.loc 1 49 5 is_stmt 1 view .LVU8
  55              		.loc 1 49 19 is_stmt 0 view .LVU9
  56 0016 0648     		ldr	r0, .L5+4
  57 0018 FFF7FEFF 		bl	osMutexNew
  58              	.LVL1:
  59              		.loc 1 49 17 discriminator 1 view .LVU10
  60 001c 054B     		ldr	r3, .L5+8
  61 001e 1860     		str	r0, [r3]
  50:Core/Src/error_manager.c ****     if (error_mutex == NULL) {
  62              		.loc 1 50 5 is_stmt 1 view .LVU11
  63              		.loc 1 50 8 is_stmt 0 view .LVU12
  64 0020 08B1     		cbz	r0, .L3
  51:Core/Src/error_manager.c ****         return HAL_ERROR;
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 3


  52:Core/Src/error_manager.c ****     }
  53:Core/Src/error_manager.c ****     
  54:Core/Src/error_manager.c ****     return HAL_OK;
  65              		.loc 1 54 12 view .LVU13
  66 0022 0020     		movs	r0, #0
  67              	.L2:
  55:Core/Src/error_manager.c **** }
  68              		.loc 1 55 1 view .LVU14
  69 0024 10BD     		pop	{r4, pc}
  70              	.L3:
  51:Core/Src/error_manager.c ****         return HAL_ERROR;
  71              		.loc 1 51 16 view .LVU15
  72 0026 0120     		movs	r0, #1
  73 0028 FCE7     		b	.L2
  74              	.L6:
  75 002a 00BF     		.align	2
  76              	.L5:
  77 002c 00000000 		.word	error_mgr
  78 0030 00000000 		.word	error_mutex_attributes
  79 0034 00000000 		.word	error_mutex
  80              		.cfi_endproc
  81              	.LFE292:
  83              		.section	.text.ErrorMgr_SetError,"ax",%progbits
  84              		.align	1
  85              		.global	ErrorMgr_SetError
  86              		.syntax unified
  87              		.thumb
  88              		.thumb_func
  90              	ErrorMgr_SetError:
  91              	.LVL2:
  92              	.LFB293:
  56:Core/Src/error_manager.c **** 
  57:Core/Src/error_manager.c **** /**
  58:Core/Src/error_manager.c ****   * @brief  Set an error flag
  59:Core/Src/error_manager.c ****   * @param  error_flag: Error flag bit to set
  60:Core/Src/error_manager.c ****   * @retval None
  61:Core/Src/error_manager.c ****   */
  62:Core/Src/error_manager.c **** void ErrorMgr_SetError(uint32_t error_flag)
  63:Core/Src/error_manager.c **** {
  93              		.loc 1 63 1 is_stmt 1 view -0
  94              		.cfi_startproc
  95              		@ args = 0, pretend = 0, frame = 0
  96              		@ frame_needed = 0, uses_anonymous_args = 0
  97              		.loc 1 63 1 is_stmt 0 view .LVU17
  98 0000 10B5     		push	{r4, lr}
  99              		.cfi_def_cfa_offset 8
 100              		.cfi_offset 4, -8
 101              		.cfi_offset 14, -4
 102 0002 0446     		mov	r4, r0
  64:Core/Src/error_manager.c ****     if (osMutexAcquire(error_mutex, osWaitForever) == osOK) {
 103              		.loc 1 64 5 is_stmt 1 view .LVU18
 104              		.loc 1 64 9 is_stmt 0 view .LVU19
 105 0004 4FF0FF31 		mov	r1, #-1
 106 0008 0D4B     		ldr	r3, .L11
 107 000a 1868     		ldr	r0, [r3]
 108              	.LVL3:
 109              		.loc 1 64 9 view .LVU20
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 4


 110 000c FFF7FEFF 		bl	osMutexAcquire
 111              	.LVL4:
 112              		.loc 1 64 8 discriminator 1 view .LVU21
 113 0010 A0B9     		cbnz	r0, .L7
  65:Core/Src/error_manager.c ****         // Check if this is a new error
  66:Core/Src/error_manager.c ****         if (!(error_mgr.error_flags & error_flag)) {
 114              		.loc 1 66 9 is_stmt 1 view .LVU22
 115              		.loc 1 66 24 is_stmt 0 view .LVU23
 116 0012 0C4B     		ldr	r3, .L11+4
 117 0014 1B68     		ldr	r3, [r3]
 118              		.loc 1 66 12 view .LVU24
 119 0016 2342     		tst	r3, r4
 120 0018 09D1     		bne	.L9
  67:Core/Src/error_manager.c ****             error_mgr.fault_count++;
 121              		.loc 1 67 13 is_stmt 1 view .LVU25
 122              		.loc 1 67 22 is_stmt 0 view .LVU26
 123 001a 0A49     		ldr	r1, .L11+4
 124 001c 4A7A     		ldrb	r2, [r1, #9]	@ zero_extendqisi2
 125              		.loc 1 67 34 view .LVU27
 126 001e 0132     		adds	r2, r2, #1
 127 0020 4A72     		strb	r2, [r1, #9]
  68:Core/Src/error_manager.c ****             
  69:Core/Src/error_manager.c ****             // Auto-transition to error state if critical errors occur
  70:Core/Src/error_manager.c ****             if (error_flag & (ERROR_OVER_TEMP | ERROR_UNDER_VOLTAGE | 
 128              		.loc 1 70 13 is_stmt 1 view .LVU28
 129              		.loc 1 70 16 is_stmt 0 view .LVU29
 130 0022 094A     		ldr	r2, .L11+8
 131 0024 1442     		tst	r4, r2
 132 0026 02D0     		beq	.L9
  71:Core/Src/error_manager.c ****                               ERROR_OVER_VOLTAGE | ERROR_SHORT_CIRCUIT)) {
  72:Core/Src/error_manager.c ****                 error_mgr.state = BMS_STATE_ERROR;
 133              		.loc 1 72 17 is_stmt 1 view .LVU30
 134              		.loc 1 72 33 is_stmt 0 view .LVU31
 135 0028 0A46     		mov	r2, r1
 136 002a 0521     		movs	r1, #5
 137 002c 1172     		strb	r1, [r2, #8]
 138              	.L9:
  73:Core/Src/error_manager.c ****             }
  74:Core/Src/error_manager.c ****         }
  75:Core/Src/error_manager.c ****         
  76:Core/Src/error_manager.c ****         error_mgr.error_flags |= error_flag;
 139              		.loc 1 76 9 is_stmt 1 view .LVU32
 140              		.loc 1 76 31 is_stmt 0 view .LVU33
 141 002e 2343     		orrs	r3, r3, r4
 142 0030 044A     		ldr	r2, .L11+4
 143 0032 1360     		str	r3, [r2]
  77:Core/Src/error_manager.c ****         osMutexRelease(error_mutex);
 144              		.loc 1 77 9 is_stmt 1 view .LVU34
 145 0034 024B     		ldr	r3, .L11
 146 0036 1868     		ldr	r0, [r3]
 147 0038 FFF7FEFF 		bl	osMutexRelease
 148              	.LVL5:
 149              	.L7:
  78:Core/Src/error_manager.c ****     }
  79:Core/Src/error_manager.c **** }
 150              		.loc 1 79 1 is_stmt 0 view .LVU35
 151 003c 10BD     		pop	{r4, pc}
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 5


 152              	.LVL6:
 153              	.L12:
 154              		.loc 1 79 1 view .LVU36
 155 003e 00BF     		.align	2
 156              	.L11:
 157 0040 00000000 		.word	error_mutex
 158 0044 00000000 		.word	error_mgr
 159 0048 01030800 		.word	525057
 160              		.cfi_endproc
 161              	.LFE293:
 163              		.section	.text.ErrorMgr_ClearError,"ax",%progbits
 164              		.align	1
 165              		.global	ErrorMgr_ClearError
 166              		.syntax unified
 167              		.thumb
 168              		.thumb_func
 170              	ErrorMgr_ClearError:
 171              	.LVL7:
 172              	.LFB294:
  80:Core/Src/error_manager.c **** 
  81:Core/Src/error_manager.c **** /**
  82:Core/Src/error_manager.c ****   * @brief  Clear an error flag
  83:Core/Src/error_manager.c ****   * @param  error_flag: Error flag bit to clear
  84:Core/Src/error_manager.c ****   * @retval None
  85:Core/Src/error_manager.c ****   */
  86:Core/Src/error_manager.c **** void ErrorMgr_ClearError(uint32_t error_flag)
  87:Core/Src/error_manager.c **** {
 173              		.loc 1 87 1 is_stmt 1 view -0
 174              		.cfi_startproc
 175              		@ args = 0, pretend = 0, frame = 0
 176              		@ frame_needed = 0, uses_anonymous_args = 0
 177              		.loc 1 87 1 is_stmt 0 view .LVU38
 178 0000 10B5     		push	{r4, lr}
 179              		.cfi_def_cfa_offset 8
 180              		.cfi_offset 4, -8
 181              		.cfi_offset 14, -4
 182 0002 0446     		mov	r4, r0
  88:Core/Src/error_manager.c ****     if (osMutexAcquire(error_mutex, osWaitForever) == osOK) {
 183              		.loc 1 88 5 is_stmt 1 view .LVU39
 184              		.loc 1 88 9 is_stmt 0 view .LVU40
 185 0004 4FF0FF31 		mov	r1, #-1
 186 0008 0B4B     		ldr	r3, .L18
 187 000a 1868     		ldr	r0, [r3]
 188              	.LVL8:
 189              		.loc 1 88 9 view .LVU41
 190 000c FFF7FEFF 		bl	osMutexAcquire
 191              	.LVL9:
 192              		.loc 1 88 8 discriminator 1 view .LVU42
 193 0010 60B9     		cbnz	r0, .L13
  89:Core/Src/error_manager.c ****         error_mgr.error_flags &= ~error_flag;
 194              		.loc 1 89 9 is_stmt 1 view .LVU43
 195              		.loc 1 89 18 is_stmt 0 view .LVU44
 196 0012 0A4A     		ldr	r2, .L18+4
 197 0014 1368     		ldr	r3, [r2]
 198              		.loc 1 89 31 view .LVU45
 199 0016 23EA0403 		bic	r3, r3, r4
 200 001a 1360     		str	r3, [r2]
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 6


  90:Core/Src/error_manager.c ****         
  91:Core/Src/error_manager.c ****         // If no errors remain and in error state, transition to idle
  92:Core/Src/error_manager.c ****         if (error_mgr.error_flags == 0 && error_mgr.state == BMS_STATE_ERROR) {
 201              		.loc 1 92 9 is_stmt 1 view .LVU46
 202              		.loc 1 92 12 is_stmt 0 view .LVU47
 203 001c 13B9     		cbnz	r3, .L15
 204              		.loc 1 92 52 discriminator 1 view .LVU48
 205 001e 137A     		ldrb	r3, [r2, #8]	@ zero_extendqisi2
 206              		.loc 1 92 40 discriminator 1 view .LVU49
 207 0020 052B     		cmp	r3, #5
 208 0022 04D0     		beq	.L17
 209              	.L15:
  93:Core/Src/error_manager.c ****             error_mgr.state = BMS_STATE_IDLE;
  94:Core/Src/error_manager.c ****         }
  95:Core/Src/error_manager.c ****         
  96:Core/Src/error_manager.c ****         osMutexRelease(error_mutex);
 210              		.loc 1 96 9 is_stmt 1 view .LVU50
 211 0024 044B     		ldr	r3, .L18
 212 0026 1868     		ldr	r0, [r3]
 213 0028 FFF7FEFF 		bl	osMutexRelease
 214              	.LVL10:
 215              	.L13:
  97:Core/Src/error_manager.c ****     }
  98:Core/Src/error_manager.c **** }
 216              		.loc 1 98 1 is_stmt 0 view .LVU51
 217 002c 10BD     		pop	{r4, pc}
 218              	.LVL11:
 219              	.L17:
  93:Core/Src/error_manager.c ****             error_mgr.state = BMS_STATE_IDLE;
 220              		.loc 1 93 13 is_stmt 1 view .LVU52
  93:Core/Src/error_manager.c ****             error_mgr.state = BMS_STATE_IDLE;
 221              		.loc 1 93 29 is_stmt 0 view .LVU53
 222 002e 1346     		mov	r3, r2
 223 0030 0122     		movs	r2, #1
 224 0032 1A72     		strb	r2, [r3, #8]
 225 0034 F6E7     		b	.L15
 226              	.L19:
 227 0036 00BF     		.align	2
 228              	.L18:
 229 0038 00000000 		.word	error_mutex
 230 003c 00000000 		.word	error_mgr
 231              		.cfi_endproc
 232              	.LFE294:
 234              		.section	.text.ErrorMgr_SetWarning,"ax",%progbits
 235              		.align	1
 236              		.global	ErrorMgr_SetWarning
 237              		.syntax unified
 238              		.thumb
 239              		.thumb_func
 241              	ErrorMgr_SetWarning:
 242              	.LVL12:
 243              	.LFB295:
  99:Core/Src/error_manager.c **** 
 100:Core/Src/error_manager.c **** /**
 101:Core/Src/error_manager.c ****   * @brief  Set a warning flag
 102:Core/Src/error_manager.c ****   * @param  warning_flag: Warning flag bit to set
 103:Core/Src/error_manager.c ****   * @retval None
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 7


 104:Core/Src/error_manager.c ****   */
 105:Core/Src/error_manager.c **** void ErrorMgr_SetWarning(uint32_t warning_flag)
 106:Core/Src/error_manager.c **** {
 244              		.loc 1 106 1 is_stmt 1 view -0
 245              		.cfi_startproc
 246              		@ args = 0, pretend = 0, frame = 0
 247              		@ frame_needed = 0, uses_anonymous_args = 0
 248              		.loc 1 106 1 is_stmt 0 view .LVU55
 249 0000 10B5     		push	{r4, lr}
 250              		.cfi_def_cfa_offset 8
 251              		.cfi_offset 4, -8
 252              		.cfi_offset 14, -4
 253 0002 0446     		mov	r4, r0
 107:Core/Src/error_manager.c ****     if (osMutexAcquire(error_mutex, osWaitForever) == osOK) {
 254              		.loc 1 107 5 is_stmt 1 view .LVU56
 255              		.loc 1 107 9 is_stmt 0 view .LVU57
 256 0004 4FF0FF31 		mov	r1, #-1
 257 0008 074B     		ldr	r3, .L24
 258 000a 1868     		ldr	r0, [r3]
 259              	.LVL13:
 260              		.loc 1 107 9 view .LVU58
 261 000c FFF7FEFF 		bl	osMutexAcquire
 262              	.LVL14:
 263              		.loc 1 107 8 discriminator 1 view .LVU59
 264 0010 00B1     		cbz	r0, .L23
 265              	.L20:
 108:Core/Src/error_manager.c ****         error_mgr.warning_flags |= warning_flag;
 109:Core/Src/error_manager.c ****         osMutexRelease(error_mutex);
 110:Core/Src/error_manager.c ****     }
 111:Core/Src/error_manager.c **** }
 266              		.loc 1 111 1 view .LVU60
 267 0012 10BD     		pop	{r4, pc}
 268              	.LVL15:
 269              	.L23:
 108:Core/Src/error_manager.c ****         error_mgr.warning_flags |= warning_flag;
 270              		.loc 1 108 9 is_stmt 1 view .LVU61
 108:Core/Src/error_manager.c ****         error_mgr.warning_flags |= warning_flag;
 271              		.loc 1 108 18 is_stmt 0 view .LVU62
 272 0014 054A     		ldr	r2, .L24+4
 273 0016 5368     		ldr	r3, [r2, #4]
 108:Core/Src/error_manager.c ****         error_mgr.warning_flags |= warning_flag;
 274              		.loc 1 108 33 view .LVU63
 275 0018 2343     		orrs	r3, r3, r4
 276 001a 5360     		str	r3, [r2, #4]
 109:Core/Src/error_manager.c ****     }
 277              		.loc 1 109 9 is_stmt 1 view .LVU64
 278 001c 024B     		ldr	r3, .L24
 279 001e 1868     		ldr	r0, [r3]
 280 0020 FFF7FEFF 		bl	osMutexRelease
 281              	.LVL16:
 282              		.loc 1 111 1 is_stmt 0 view .LVU65
 283 0024 F5E7     		b	.L20
 284              	.L25:
 285 0026 00BF     		.align	2
 286              	.L24:
 287 0028 00000000 		.word	error_mutex
 288 002c 00000000 		.word	error_mgr
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 8


 289              		.cfi_endproc
 290              	.LFE295:
 292              		.section	.text.ErrorMgr_ClearWarning,"ax",%progbits
 293              		.align	1
 294              		.global	ErrorMgr_ClearWarning
 295              		.syntax unified
 296              		.thumb
 297              		.thumb_func
 299              	ErrorMgr_ClearWarning:
 300              	.LVL17:
 301              	.LFB296:
 112:Core/Src/error_manager.c **** 
 113:Core/Src/error_manager.c **** /**
 114:Core/Src/error_manager.c ****   * @brief  Clear a warning flag
 115:Core/Src/error_manager.c ****   * @param  warning_flag: Warning flag bit to clear
 116:Core/Src/error_manager.c ****   * @retval None
 117:Core/Src/error_manager.c ****   */
 118:Core/Src/error_manager.c **** void ErrorMgr_ClearWarning(uint32_t warning_flag)
 119:Core/Src/error_manager.c **** {
 302              		.loc 1 119 1 is_stmt 1 view -0
 303              		.cfi_startproc
 304              		@ args = 0, pretend = 0, frame = 0
 305              		@ frame_needed = 0, uses_anonymous_args = 0
 306              		.loc 1 119 1 is_stmt 0 view .LVU67
 307 0000 10B5     		push	{r4, lr}
 308              		.cfi_def_cfa_offset 8
 309              		.cfi_offset 4, -8
 310              		.cfi_offset 14, -4
 311 0002 0446     		mov	r4, r0
 120:Core/Src/error_manager.c ****     if (osMutexAcquire(error_mutex, osWaitForever) == osOK) {
 312              		.loc 1 120 5 is_stmt 1 view .LVU68
 313              		.loc 1 120 9 is_stmt 0 view .LVU69
 314 0004 4FF0FF31 		mov	r1, #-1
 315 0008 074B     		ldr	r3, .L30
 316 000a 1868     		ldr	r0, [r3]
 317              	.LVL18:
 318              		.loc 1 120 9 view .LVU70
 319 000c FFF7FEFF 		bl	osMutexAcquire
 320              	.LVL19:
 321              		.loc 1 120 8 discriminator 1 view .LVU71
 322 0010 00B1     		cbz	r0, .L29
 323              	.L26:
 121:Core/Src/error_manager.c ****         error_mgr.warning_flags &= ~warning_flag;
 122:Core/Src/error_manager.c ****         osMutexRelease(error_mutex);
 123:Core/Src/error_manager.c ****     }
 124:Core/Src/error_manager.c **** }
 324              		.loc 1 124 1 view .LVU72
 325 0012 10BD     		pop	{r4, pc}
 326              	.LVL20:
 327              	.L29:
 121:Core/Src/error_manager.c ****         error_mgr.warning_flags &= ~warning_flag;
 328              		.loc 1 121 9 is_stmt 1 view .LVU73
 121:Core/Src/error_manager.c ****         error_mgr.warning_flags &= ~warning_flag;
 329              		.loc 1 121 18 is_stmt 0 view .LVU74
 330 0014 054A     		ldr	r2, .L30+4
 331 0016 5368     		ldr	r3, [r2, #4]
 121:Core/Src/error_manager.c ****         error_mgr.warning_flags &= ~warning_flag;
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 9


 332              		.loc 1 121 33 view .LVU75
 333 0018 23EA0403 		bic	r3, r3, r4
 334 001c 5360     		str	r3, [r2, #4]
 122:Core/Src/error_manager.c ****     }
 335              		.loc 1 122 9 is_stmt 1 view .LVU76
 336 001e 024B     		ldr	r3, .L30
 337 0020 1868     		ldr	r0, [r3]
 338 0022 FFF7FEFF 		bl	osMutexRelease
 339              	.LVL21:
 340              		.loc 1 124 1 is_stmt 0 view .LVU77
 341 0026 F4E7     		b	.L26
 342              	.L31:
 343              		.align	2
 344              	.L30:
 345 0028 00000000 		.word	error_mutex
 346 002c 00000000 		.word	error_mgr
 347              		.cfi_endproc
 348              	.LFE296:
 350              		.section	.text.ErrorMgr_GetErrors,"ax",%progbits
 351              		.align	1
 352              		.global	ErrorMgr_GetErrors
 353              		.syntax unified
 354              		.thumb
 355              		.thumb_func
 357              	ErrorMgr_GetErrors:
 358              	.LFB297:
 125:Core/Src/error_manager.c **** 
 126:Core/Src/error_manager.c **** /**
 127:Core/Src/error_manager.c ****   * @brief  Get current error flags
 128:Core/Src/error_manager.c ****   * @retval uint32_t: Current error flags
 129:Core/Src/error_manager.c ****   */
 130:Core/Src/error_manager.c **** uint32_t ErrorMgr_GetErrors(void)
 131:Core/Src/error_manager.c **** {
 359              		.loc 1 131 1 is_stmt 1 view -0
 360              		.cfi_startproc
 361              		@ args = 0, pretend = 0, frame = 0
 362              		@ frame_needed = 0, uses_anonymous_args = 0
 363 0000 10B5     		push	{r4, lr}
 364              		.cfi_def_cfa_offset 8
 365              		.cfi_offset 4, -8
 366              		.cfi_offset 14, -4
 132:Core/Src/error_manager.c ****     uint32_t errors = 0;
 367              		.loc 1 132 5 view .LVU79
 368              	.LVL22:
 133:Core/Src/error_manager.c ****     
 134:Core/Src/error_manager.c ****     if (osMutexAcquire(error_mutex, osWaitForever) == osOK) {
 369              		.loc 1 134 5 view .LVU80
 370              		.loc 1 134 9 is_stmt 0 view .LVU81
 371 0002 4FF0FF31 		mov	r1, #-1
 372 0006 074B     		ldr	r3, .L37
 373 0008 1868     		ldr	r0, [r3]
 374 000a FFF7FEFF 		bl	osMutexAcquire
 375              	.LVL23:
 376              		.loc 1 134 8 discriminator 1 view .LVU82
 377 000e 10B1     		cbz	r0, .L36
 132:Core/Src/error_manager.c ****     uint32_t errors = 0;
 378              		.loc 1 132 14 view .LVU83
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 10


 379 0010 0024     		movs	r4, #0
 135:Core/Src/error_manager.c ****         errors = error_mgr.error_flags;
 136:Core/Src/error_manager.c ****         osMutexRelease(error_mutex);
 137:Core/Src/error_manager.c ****     }
 138:Core/Src/error_manager.c ****     
 139:Core/Src/error_manager.c ****     return errors;
 380              		.loc 1 139 5 is_stmt 1 view .LVU84
 381              	.LVL24:
 382              	.L32:
 140:Core/Src/error_manager.c **** }
 383              		.loc 1 140 1 is_stmt 0 view .LVU85
 384 0012 2046     		mov	r0, r4
 385 0014 10BD     		pop	{r4, pc}
 386              	.LVL25:
 387              	.L36:
 135:Core/Src/error_manager.c ****         errors = error_mgr.error_flags;
 388              		.loc 1 135 9 is_stmt 1 view .LVU86
 135:Core/Src/error_manager.c ****         errors = error_mgr.error_flags;
 389              		.loc 1 135 16 is_stmt 0 view .LVU87
 390 0016 044B     		ldr	r3, .L37+4
 391 0018 1C68     		ldr	r4, [r3]
 392              	.LVL26:
 136:Core/Src/error_manager.c ****     }
 393              		.loc 1 136 9 is_stmt 1 view .LVU88
 394 001a 024B     		ldr	r3, .L37
 395 001c 1868     		ldr	r0, [r3]
 396 001e FFF7FEFF 		bl	osMutexRelease
 397              	.LVL27:
 398 0022 F6E7     		b	.L32
 399              	.L38:
 400              		.align	2
 401              	.L37:
 402 0024 00000000 		.word	error_mutex
 403 0028 00000000 		.word	error_mgr
 404              		.cfi_endproc
 405              	.LFE297:
 407              		.section	.text.ErrorMgr_GetWarnings,"ax",%progbits
 408              		.align	1
 409              		.global	ErrorMgr_GetWarnings
 410              		.syntax unified
 411              		.thumb
 412              		.thumb_func
 414              	ErrorMgr_GetWarnings:
 415              	.LFB298:
 141:Core/Src/error_manager.c **** 
 142:Core/Src/error_manager.c **** /**
 143:Core/Src/error_manager.c ****   * @brief  Get current warning flags
 144:Core/Src/error_manager.c ****   * @retval uint32_t: Current warning flags
 145:Core/Src/error_manager.c ****   */
 146:Core/Src/error_manager.c **** uint32_t ErrorMgr_GetWarnings(void)
 147:Core/Src/error_manager.c **** {
 416              		.loc 1 147 1 view -0
 417              		.cfi_startproc
 418              		@ args = 0, pretend = 0, frame = 0
 419              		@ frame_needed = 0, uses_anonymous_args = 0
 420 0000 10B5     		push	{r4, lr}
 421              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 11


 422              		.cfi_offset 4, -8
 423              		.cfi_offset 14, -4
 148:Core/Src/error_manager.c ****     uint32_t warnings = 0;
 424              		.loc 1 148 5 view .LVU90
 425              	.LVL28:
 149:Core/Src/error_manager.c ****     
 150:Core/Src/error_manager.c ****     if (osMutexAcquire(error_mutex, osWaitForever) == osOK) {
 426              		.loc 1 150 5 view .LVU91
 427              		.loc 1 150 9 is_stmt 0 view .LVU92
 428 0002 4FF0FF31 		mov	r1, #-1
 429 0006 074B     		ldr	r3, .L44
 430 0008 1868     		ldr	r0, [r3]
 431 000a FFF7FEFF 		bl	osMutexAcquire
 432              	.LVL29:
 433              		.loc 1 150 8 discriminator 1 view .LVU93
 434 000e 10B1     		cbz	r0, .L43
 148:Core/Src/error_manager.c ****     uint32_t warnings = 0;
 435              		.loc 1 148 14 view .LVU94
 436 0010 0024     		movs	r4, #0
 151:Core/Src/error_manager.c ****         warnings = error_mgr.warning_flags;
 152:Core/Src/error_manager.c ****         osMutexRelease(error_mutex);
 153:Core/Src/error_manager.c ****     }
 154:Core/Src/error_manager.c ****     
 155:Core/Src/error_manager.c ****     return warnings;
 437              		.loc 1 155 5 is_stmt 1 view .LVU95
 438              	.LVL30:
 439              	.L39:
 156:Core/Src/error_manager.c **** }
 440              		.loc 1 156 1 is_stmt 0 view .LVU96
 441 0012 2046     		mov	r0, r4
 442 0014 10BD     		pop	{r4, pc}
 443              	.LVL31:
 444              	.L43:
 151:Core/Src/error_manager.c ****         warnings = error_mgr.warning_flags;
 445              		.loc 1 151 9 is_stmt 1 view .LVU97
 151:Core/Src/error_manager.c ****         warnings = error_mgr.warning_flags;
 446              		.loc 1 151 18 is_stmt 0 view .LVU98
 447 0016 044B     		ldr	r3, .L44+4
 448 0018 5C68     		ldr	r4, [r3, #4]
 449              	.LVL32:
 152:Core/Src/error_manager.c ****     }
 450              		.loc 1 152 9 is_stmt 1 view .LVU99
 451 001a 024B     		ldr	r3, .L44
 452 001c 1868     		ldr	r0, [r3]
 453 001e FFF7FEFF 		bl	osMutexRelease
 454              	.LVL33:
 455 0022 F6E7     		b	.L39
 456              	.L45:
 457              		.align	2
 458              	.L44:
 459 0024 00000000 		.word	error_mutex
 460 0028 00000000 		.word	error_mgr
 461              		.cfi_endproc
 462              	.LFE298:
 464              		.section	.text.ErrorMgr_HasErrors,"ax",%progbits
 465              		.align	1
 466              		.global	ErrorMgr_HasErrors
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 12


 467              		.syntax unified
 468              		.thumb
 469              		.thumb_func
 471              	ErrorMgr_HasErrors:
 472              	.LFB299:
 157:Core/Src/error_manager.c **** 
 158:Core/Src/error_manager.c **** /**
 159:Core/Src/error_manager.c ****   * @brief  Check if any errors are active
 160:Core/Src/error_manager.c ****   * @retval bool: true if any errors active
 161:Core/Src/error_manager.c ****   */
 162:Core/Src/error_manager.c **** bool ErrorMgr_HasErrors(void)
 163:Core/Src/error_manager.c **** {
 473              		.loc 1 163 1 view -0
 474              		.cfi_startproc
 475              		@ args = 0, pretend = 0, frame = 0
 476              		@ frame_needed = 0, uses_anonymous_args = 0
 477 0000 08B5     		push	{r3, lr}
 478              		.cfi_def_cfa_offset 8
 479              		.cfi_offset 3, -8
 480              		.cfi_offset 14, -4
 164:Core/Src/error_manager.c ****     return (ErrorMgr_GetErrors() != 0);
 481              		.loc 1 164 5 view .LVU101
 482              		.loc 1 164 13 is_stmt 0 view .LVU102
 483 0002 FFF7FEFF 		bl	ErrorMgr_GetErrors
 484              	.LVL34:
 165:Core/Src/error_manager.c **** }
 485              		.loc 1 165 1 view .LVU103
 486 0006 0038     		subs	r0, r0, #0
 487 0008 18BF     		it	ne
 488 000a 0120     		movne	r0, #1
 489 000c 08BD     		pop	{r3, pc}
 490              		.cfi_endproc
 491              	.LFE299:
 493              		.section	.text.ErrorMgr_HasWarnings,"ax",%progbits
 494              		.align	1
 495              		.global	ErrorMgr_HasWarnings
 496              		.syntax unified
 497              		.thumb
 498              		.thumb_func
 500              	ErrorMgr_HasWarnings:
 501              	.LFB300:
 166:Core/Src/error_manager.c **** 
 167:Core/Src/error_manager.c **** /**
 168:Core/Src/error_manager.c ****   * @brief  Check if any warnings are active
 169:Core/Src/error_manager.c ****   * @retval bool: true if any warnings active
 170:Core/Src/error_manager.c ****   */
 171:Core/Src/error_manager.c **** bool ErrorMgr_HasWarnings(void)
 172:Core/Src/error_manager.c **** {
 502              		.loc 1 172 1 is_stmt 1 view -0
 503              		.cfi_startproc
 504              		@ args = 0, pretend = 0, frame = 0
 505              		@ frame_needed = 0, uses_anonymous_args = 0
 506 0000 08B5     		push	{r3, lr}
 507              		.cfi_def_cfa_offset 8
 508              		.cfi_offset 3, -8
 509              		.cfi_offset 14, -4
 173:Core/Src/error_manager.c ****     return (ErrorMgr_GetWarnings() != 0);
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 13


 510              		.loc 1 173 5 view .LVU105
 511              		.loc 1 173 13 is_stmt 0 view .LVU106
 512 0002 FFF7FEFF 		bl	ErrorMgr_GetWarnings
 513              	.LVL35:
 174:Core/Src/error_manager.c **** }
 514              		.loc 1 174 1 view .LVU107
 515 0006 0038     		subs	r0, r0, #0
 516 0008 18BF     		it	ne
 517 000a 0120     		movne	r0, #1
 518 000c 08BD     		pop	{r3, pc}
 519              		.cfi_endproc
 520              	.LFE300:
 522              		.section	.text.ErrorMgr_SetState,"ax",%progbits
 523              		.align	1
 524              		.global	ErrorMgr_SetState
 525              		.syntax unified
 526              		.thumb
 527              		.thumb_func
 529              	ErrorMgr_SetState:
 530              	.LVL36:
 531              	.LFB301:
 175:Core/Src/error_manager.c **** 
 176:Core/Src/error_manager.c **** /**
 177:Core/Src/error_manager.c ****   * @brief  Set BMS state
 178:Core/Src/error_manager.c ****   * @param  state: New BMS state
 179:Core/Src/error_manager.c ****   * @retval None
 180:Core/Src/error_manager.c ****   */
 181:Core/Src/error_manager.c **** void ErrorMgr_SetState(BMS_State_t state)
 182:Core/Src/error_manager.c **** {
 532              		.loc 1 182 1 is_stmt 1 view -0
 533              		.cfi_startproc
 534              		@ args = 0, pretend = 0, frame = 0
 535              		@ frame_needed = 0, uses_anonymous_args = 0
 536              		.loc 1 182 1 is_stmt 0 view .LVU109
 537 0000 10B5     		push	{r4, lr}
 538              		.cfi_def_cfa_offset 8
 539              		.cfi_offset 4, -8
 540              		.cfi_offset 14, -4
 541 0002 0446     		mov	r4, r0
 183:Core/Src/error_manager.c ****     if (osMutexAcquire(error_mutex, osWaitForever) == osOK) {
 542              		.loc 1 183 5 is_stmt 1 view .LVU110
 543              		.loc 1 183 9 is_stmt 0 view .LVU111
 544 0004 4FF0FF31 		mov	r1, #-1
 545 0008 0D4B     		ldr	r3, .L55
 546 000a 1868     		ldr	r0, [r3]
 547              	.LVL37:
 548              		.loc 1 183 9 view .LVU112
 549 000c FFF7FEFF 		bl	osMutexAcquire
 550              	.LVL38:
 551              		.loc 1 183 8 discriminator 1 view .LVU113
 552 0010 80B9     		cbnz	r0, .L50
 184:Core/Src/error_manager.c ****         // Don't allow transition out of error state if errors exist
 185:Core/Src/error_manager.c ****         if (error_mgr.state == BMS_STATE_ERROR && error_mgr.error_flags != 0) {
 553              		.loc 1 185 9 is_stmt 1 view .LVU114
 554              		.loc 1 185 22 is_stmt 0 view .LVU115
 555 0012 0C4B     		ldr	r3, .L55+4
 556 0014 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 14


 557              		.loc 1 185 12 view .LVU116
 558 0016 052B     		cmp	r3, #5
 559 0018 06D1     		bne	.L52
 560              		.loc 1 185 60 discriminator 1 view .LVU117
 561 001a 0A4B     		ldr	r3, .L55+4
 562 001c 1B68     		ldr	r3, [r3]
 563              		.loc 1 185 48 discriminator 1 view .LVU118
 564 001e 1BB1     		cbz	r3, .L52
 186:Core/Src/error_manager.c ****             // Only allow error state transitions
 187:Core/Src/error_manager.c ****             if (state != BMS_STATE_ERROR && state != BMS_STATE_SHUTDOWN) {
 565              		.loc 1 187 13 is_stmt 1 view .LVU119
 566              		.loc 1 187 42 is_stmt 0 view .LVU120
 567 0020 631F     		subs	r3, r4, #5
 568 0022 DBB2     		uxtb	r3, r3
 569              		.loc 1 187 16 view .LVU121
 570 0024 012B     		cmp	r3, #1
 571 0026 06D8     		bhi	.L54
 572              	.L52:
 188:Core/Src/error_manager.c ****                 osMutexRelease(error_mutex);
 189:Core/Src/error_manager.c ****                 return;
 190:Core/Src/error_manager.c ****             }
 191:Core/Src/error_manager.c ****         }
 192:Core/Src/error_manager.c ****         
 193:Core/Src/error_manager.c ****         error_mgr.state = state;
 573              		.loc 1 193 9 is_stmt 1 view .LVU122
 574              		.loc 1 193 25 is_stmt 0 view .LVU123
 575 0028 064B     		ldr	r3, .L55+4
 576 002a 1C72     		strb	r4, [r3, #8]
 194:Core/Src/error_manager.c ****         osMutexRelease(error_mutex);
 577              		.loc 1 194 9 is_stmt 1 view .LVU124
 578 002c 044B     		ldr	r3, .L55
 579 002e 1868     		ldr	r0, [r3]
 580 0030 FFF7FEFF 		bl	osMutexRelease
 581              	.LVL39:
 582              	.L50:
 195:Core/Src/error_manager.c ****     }
 196:Core/Src/error_manager.c **** }
 583              		.loc 1 196 1 is_stmt 0 view .LVU125
 584 0034 10BD     		pop	{r4, pc}
 585              	.LVL40:
 586              	.L54:
 188:Core/Src/error_manager.c ****                 return;
 587              		.loc 1 188 17 is_stmt 1 view .LVU126
 588 0036 024B     		ldr	r3, .L55
 589 0038 1868     		ldr	r0, [r3]
 590 003a FFF7FEFF 		bl	osMutexRelease
 591              	.LVL41:
 189:Core/Src/error_manager.c ****             }
 592              		.loc 1 189 17 view .LVU127
 593 003e F9E7     		b	.L50
 594              	.L56:
 595              		.align	2
 596              	.L55:
 597 0040 00000000 		.word	error_mutex
 598 0044 00000000 		.word	error_mgr
 599              		.cfi_endproc
 600              	.LFE301:
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 15


 602              		.section	.text.ErrorMgr_GetState,"ax",%progbits
 603              		.align	1
 604              		.global	ErrorMgr_GetState
 605              		.syntax unified
 606              		.thumb
 607              		.thumb_func
 609              	ErrorMgr_GetState:
 610              	.LFB302:
 197:Core/Src/error_manager.c **** 
 198:Core/Src/error_manager.c **** /**
 199:Core/Src/error_manager.c ****   * @brief  Get current BMS state
 200:Core/Src/error_manager.c ****   * @retval BMS_State_t: Current BMS state
 201:Core/Src/error_manager.c ****   */
 202:Core/Src/error_manager.c **** BMS_State_t ErrorMgr_GetState(void)
 203:Core/Src/error_manager.c **** {
 611              		.loc 1 203 1 view -0
 612              		.cfi_startproc
 613              		@ args = 0, pretend = 0, frame = 0
 614              		@ frame_needed = 0, uses_anonymous_args = 0
 615 0000 10B5     		push	{r4, lr}
 616              		.cfi_def_cfa_offset 8
 617              		.cfi_offset 4, -8
 618              		.cfi_offset 14, -4
 204:Core/Src/error_manager.c ****     BMS_State_t state = BMS_STATE_INIT;
 619              		.loc 1 204 5 view .LVU129
 620              	.LVL42:
 205:Core/Src/error_manager.c ****     
 206:Core/Src/error_manager.c ****     if (osMutexAcquire(error_mutex, osWaitForever) == osOK) {
 621              		.loc 1 206 5 view .LVU130
 622              		.loc 1 206 9 is_stmt 0 view .LVU131
 623 0002 4FF0FF31 		mov	r1, #-1
 624 0006 074B     		ldr	r3, .L62
 625 0008 1868     		ldr	r0, [r3]
 626 000a FFF7FEFF 		bl	osMutexAcquire
 627              	.LVL43:
 628              		.loc 1 206 8 discriminator 1 view .LVU132
 629 000e 10B1     		cbz	r0, .L61
 204:Core/Src/error_manager.c ****     BMS_State_t state = BMS_STATE_INIT;
 630              		.loc 1 204 17 view .LVU133
 631 0010 0024     		movs	r4, #0
 632              	.LVL44:
 633              	.L58:
 207:Core/Src/error_manager.c ****         state = error_mgr.state;
 208:Core/Src/error_manager.c ****         osMutexRelease(error_mutex);
 209:Core/Src/error_manager.c ****     }
 210:Core/Src/error_manager.c ****     
 211:Core/Src/error_manager.c ****     return state;
 634              		.loc 1 211 5 is_stmt 1 view .LVU134
 212:Core/Src/error_manager.c **** }
 635              		.loc 1 212 1 is_stmt 0 view .LVU135
 636 0012 2046     		mov	r0, r4
 637 0014 10BD     		pop	{r4, pc}
 638              	.LVL45:
 639              	.L61:
 207:Core/Src/error_manager.c ****         state = error_mgr.state;
 640              		.loc 1 207 9 is_stmt 1 view .LVU136
 207:Core/Src/error_manager.c ****         state = error_mgr.state;
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 16


 641              		.loc 1 207 15 is_stmt 0 view .LVU137
 642 0016 044B     		ldr	r3, .L62+4
 643 0018 1C7A     		ldrb	r4, [r3, #8]	@ zero_extendqisi2
 644              	.LVL46:
 208:Core/Src/error_manager.c ****     }
 645              		.loc 1 208 9 is_stmt 1 view .LVU138
 646 001a 024B     		ldr	r3, .L62
 647 001c 1868     		ldr	r0, [r3]
 648 001e FFF7FEFF 		bl	osMutexRelease
 649              	.LVL47:
 650 0022 F6E7     		b	.L58
 651              	.L63:
 652              		.align	2
 653              	.L62:
 654 0024 00000000 		.word	error_mutex
 655 0028 00000000 		.word	error_mgr
 656              		.cfi_endproc
 657              	.LFE302:
 659              		.section	.text.ErrorMgr_GetStatus,"ax",%progbits
 660              		.align	1
 661              		.global	ErrorMgr_GetStatus
 662              		.syntax unified
 663              		.thumb
 664              		.thumb_func
 666              	ErrorMgr_GetStatus:
 667              	.LVL48:
 668              	.LFB303:
 213:Core/Src/error_manager.c **** 
 214:Core/Src/error_manager.c **** /**
 215:Core/Src/error_manager.c ****   * @brief  Get complete error manager structure (for heartbeat)
 216:Core/Src/error_manager.c ****   * @param  mgr: Pointer to structure to fill
 217:Core/Src/error_manager.c ****   * @retval None
 218:Core/Src/error_manager.c ****   */
 219:Core/Src/error_manager.c **** void ErrorMgr_GetStatus(Error_Manager_t *mgr)
 220:Core/Src/error_manager.c **** {
 669              		.loc 1 220 1 view -0
 670              		.cfi_startproc
 671              		@ args = 0, pretend = 0, frame = 0
 672              		@ frame_needed = 0, uses_anonymous_args = 0
 221:Core/Src/error_manager.c ****     if (mgr == NULL) {
 673              		.loc 1 221 5 view .LVU140
 674              		.loc 1 221 8 is_stmt 0 view .LVU141
 675 0000 E8B1     		cbz	r0, .L68
 220:Core/Src/error_manager.c ****     if (mgr == NULL) {
 676              		.loc 1 220 1 view .LVU142
 677 0002 38B5     		push	{r3, r4, r5, lr}
 678              		.cfi_def_cfa_offset 16
 679              		.cfi_offset 3, -16
 680              		.cfi_offset 4, -12
 681              		.cfi_offset 5, -8
 682              		.cfi_offset 14, -4
 683 0004 0446     		mov	r4, r0
 222:Core/Src/error_manager.c ****         return;
 223:Core/Src/error_manager.c ****     }
 224:Core/Src/error_manager.c **** 
 225:Core/Src/error_manager.c ****     if (osMutexAcquire(error_mutex, osWaitForever) == osOK) {
 684              		.loc 1 225 5 is_stmt 1 view .LVU143
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 17


 685              		.loc 1 225 9 is_stmt 0 view .LVU144
 686 0006 4FF0FF31 		mov	r1, #-1
 687 000a 0D4B     		ldr	r3, .L72
 688 000c 1868     		ldr	r0, [r3]
 689              	.LVL49:
 690              		.loc 1 225 9 view .LVU145
 691 000e FFF7FEFF 		bl	osMutexAcquire
 692              	.LVL50:
 693              		.loc 1 225 8 discriminator 1 view .LVU146
 694 0012 00B1     		cbz	r0, .L71
 695              	.L64:
 226:Core/Src/error_manager.c ****         memcpy(mgr, &error_mgr, sizeof(Error_Manager_t));
 227:Core/Src/error_manager.c ****         
 228:Core/Src/error_manager.c ****         // Override state to ERROR if any faults exist
 229:Core/Src/error_manager.c ****         if (error_mgr.fault_count > 0) {
 230:Core/Src/error_manager.c ****             mgr->state = BMS_STATE_ERROR;
 231:Core/Src/error_manager.c ****         }
 232:Core/Src/error_manager.c ****         
 233:Core/Src/error_manager.c ****         osMutexRelease(error_mutex);
 234:Core/Src/error_manager.c ****     }
 235:Core/Src/error_manager.c **** }/**
 696              		.loc 1 235 1 view .LVU147
 697 0014 38BD     		pop	{r3, r4, r5, pc}
 698              	.LVL51:
 699              	.L71:
 226:Core/Src/error_manager.c ****         memcpy(mgr, &error_mgr, sizeof(Error_Manager_t));
 700              		.loc 1 226 9 is_stmt 1 view .LVU148
 701 0016 0B4D     		ldr	r5, .L72+4
 702 0018 AC46     		mov	ip, r5
 703 001a BCE80F00 		ldmia	ip!, {r0, r1, r2, r3}
 704 001e 2060     		str	r0, [r4]	@ unaligned
 705 0020 6160     		str	r1, [r4, #4]	@ unaligned
 706 0022 A260     		str	r2, [r4, #8]	@ unaligned
 707 0024 E360     		str	r3, [r4, #12]	@ unaligned
 708 0026 DCF80000 		ldr	r0, [ip]
 709 002a 2061     		str	r0, [r4, #16]	@ unaligned
 229:Core/Src/error_manager.c ****             mgr->state = BMS_STATE_ERROR;
 710              		.loc 1 229 9 view .LVU149
 229:Core/Src/error_manager.c ****             mgr->state = BMS_STATE_ERROR;
 711              		.loc 1 229 22 is_stmt 0 view .LVU150
 712 002c 6B7A     		ldrb	r3, [r5, #9]	@ zero_extendqisi2
 229:Core/Src/error_manager.c ****             mgr->state = BMS_STATE_ERROR;
 713              		.loc 1 229 12 view .LVU151
 714 002e 0BB1     		cbz	r3, .L66
 230:Core/Src/error_manager.c ****         }
 715              		.loc 1 230 13 is_stmt 1 view .LVU152
 230:Core/Src/error_manager.c ****         }
 716              		.loc 1 230 24 is_stmt 0 view .LVU153
 717 0030 0523     		movs	r3, #5
 718 0032 2372     		strb	r3, [r4, #8]
 719              	.L66:
 233:Core/Src/error_manager.c ****     }
 720              		.loc 1 233 9 is_stmt 1 view .LVU154
 721 0034 024B     		ldr	r3, .L72
 722 0036 1868     		ldr	r0, [r3]
 723 0038 FFF7FEFF 		bl	osMutexRelease
 724              	.LVL52:
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 18


 725 003c EAE7     		b	.L64
 726              	.LVL53:
 727              	.L68:
 728              		.cfi_def_cfa_offset 0
 729              		.cfi_restore 3
 730              		.cfi_restore 4
 731              		.cfi_restore 5
 732              		.cfi_restore 14
 233:Core/Src/error_manager.c ****     }
 733              		.loc 1 233 9 is_stmt 0 view .LVU155
 734 003e 7047     		bx	lr
 735              	.L73:
 736              		.align	2
 737              	.L72:
 738 0040 00000000 		.word	error_mutex
 739 0044 00000000 		.word	error_mgr
 740              		.cfi_endproc
 741              	.LFE303:
 743              		.section	.text.ErrorMgr_UpdateUptime,"ax",%progbits
 744              		.align	1
 745              		.global	ErrorMgr_UpdateUptime
 746              		.syntax unified
 747              		.thumb
 748              		.thumb_func
 750              	ErrorMgr_UpdateUptime:
 751              	.LFB304:
 236:Core/Src/error_manager.c ****   * @brief  Update system uptime (call every second)
 237:Core/Src/error_manager.c ****   * @retval None
 238:Core/Src/error_manager.c ****   */
 239:Core/Src/error_manager.c **** void ErrorMgr_UpdateUptime(void)
 240:Core/Src/error_manager.c **** {
 752              		.loc 1 240 1 is_stmt 1 view -0
 753              		.cfi_startproc
 754              		@ args = 0, pretend = 0, frame = 0
 755              		@ frame_needed = 0, uses_anonymous_args = 0
 756 0000 08B5     		push	{r3, lr}
 757              		.cfi_def_cfa_offset 8
 758              		.cfi_offset 3, -8
 759              		.cfi_offset 14, -4
 241:Core/Src/error_manager.c ****     if (osMutexAcquire(error_mutex, osWaitForever) == osOK) {
 760              		.loc 1 241 5 view .LVU157
 761              		.loc 1 241 9 is_stmt 0 view .LVU158
 762 0002 4FF0FF31 		mov	r1, #-1
 763 0006 074B     		ldr	r3, .L78
 764 0008 1868     		ldr	r0, [r3]
 765 000a FFF7FEFF 		bl	osMutexAcquire
 766              	.LVL54:
 767              		.loc 1 241 8 discriminator 1 view .LVU159
 768 000e 00B1     		cbz	r0, .L77
 769              	.L74:
 242:Core/Src/error_manager.c ****         error_mgr.uptime_seconds++;
 243:Core/Src/error_manager.c ****         osMutexRelease(error_mutex);
 244:Core/Src/error_manager.c ****     }
 245:Core/Src/error_manager.c **** }
 770              		.loc 1 245 1 view .LVU160
 771 0010 08BD     		pop	{r3, pc}
 772              	.L77:
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 19


 242:Core/Src/error_manager.c ****         error_mgr.uptime_seconds++;
 773              		.loc 1 242 9 is_stmt 1 view .LVU161
 242:Core/Src/error_manager.c ****         error_mgr.uptime_seconds++;
 774              		.loc 1 242 18 is_stmt 0 view .LVU162
 775 0012 054A     		ldr	r2, .L78+4
 776 0014 D368     		ldr	r3, [r2, #12]
 242:Core/Src/error_manager.c ****         error_mgr.uptime_seconds++;
 777              		.loc 1 242 33 view .LVU163
 778 0016 0133     		adds	r3, r3, #1
 779 0018 D360     		str	r3, [r2, #12]
 243:Core/Src/error_manager.c ****     }
 780              		.loc 1 243 9 is_stmt 1 view .LVU164
 781 001a 024B     		ldr	r3, .L78
 782 001c 1868     		ldr	r0, [r3]
 783 001e FFF7FEFF 		bl	osMutexRelease
 784              	.LVL55:
 785              		.loc 1 245 1 is_stmt 0 view .LVU165
 786 0022 F5E7     		b	.L74
 787              	.L79:
 788              		.align	2
 789              	.L78:
 790 0024 00000000 		.word	error_mutex
 791 0028 00000000 		.word	error_mgr
 792              		.cfi_endproc
 793              	.LFE304:
 795              		.section	.rodata.str1.4,"aMS",%progbits,1
 796              		.align	2
 797              	.LC0:
 798 0000 4572726F 		.ascii	"ErrorMutex\000"
 798      724D7574 
 798      657800
 799              		.section	.rodata.error_mutex_attributes,"a"
 800              		.align	2
 803              	error_mutex_attributes:
 804 0000 00000000 		.word	.LC0
 805 0004 00000000 		.space	12
 805      00000000 
 805      00000000 
 806              		.section	.bss.error_mutex,"aw",%nobits
 807              		.align	2
 810              	error_mutex:
 811 0000 00000000 		.space	4
 812              		.section	.bss.error_mgr,"aw",%nobits
 813              		.align	2
 816              	error_mgr:
 817 0000 00000000 		.space	20
 817      00000000 
 817      00000000 
 817      00000000 
 817      00000000 
 818              		.text
 819              	.Letext0:
 820              		.file 2 "C:/Users/Ali/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tool
 821              		.file 3 "C:/Users/Ali/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tool
 822              		.file 4 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 823              		.file 5 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 824              		.file 6 "Core/Inc/error_manager.h"
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 20


 825              		.file 7 "C:/Users/Ali/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tool
ARM GAS  C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s 			page 21


DEFINED SYMBOLS
                            *ABS*:00000000 error_manager.c
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:21     .text.ErrorMgr_Init:00000000 $t
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:27     .text.ErrorMgr_Init:00000000 ErrorMgr_Init
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:77     .text.ErrorMgr_Init:0000002c $d
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:816    .bss.error_mgr:00000000 error_mgr
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:803    .rodata.error_mutex_attributes:00000000 error_mutex_attributes
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:810    .bss.error_mutex:00000000 error_mutex
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:84     .text.ErrorMgr_SetError:00000000 $t
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:90     .text.ErrorMgr_SetError:00000000 ErrorMgr_SetError
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:157    .text.ErrorMgr_SetError:00000040 $d
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:164    .text.ErrorMgr_ClearError:00000000 $t
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:170    .text.ErrorMgr_ClearError:00000000 ErrorMgr_ClearError
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:229    .text.ErrorMgr_ClearError:00000038 $d
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:235    .text.ErrorMgr_SetWarning:00000000 $t
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:241    .text.ErrorMgr_SetWarning:00000000 ErrorMgr_SetWarning
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:287    .text.ErrorMgr_SetWarning:00000028 $d
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:293    .text.ErrorMgr_ClearWarning:00000000 $t
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:299    .text.ErrorMgr_ClearWarning:00000000 ErrorMgr_ClearWarning
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:345    .text.ErrorMgr_ClearWarning:00000028 $d
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:351    .text.ErrorMgr_GetErrors:00000000 $t
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:357    .text.ErrorMgr_GetErrors:00000000 ErrorMgr_GetErrors
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:402    .text.ErrorMgr_GetErrors:00000024 $d
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:408    .text.ErrorMgr_GetWarnings:00000000 $t
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:414    .text.ErrorMgr_GetWarnings:00000000 ErrorMgr_GetWarnings
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:459    .text.ErrorMgr_GetWarnings:00000024 $d
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:465    .text.ErrorMgr_HasErrors:00000000 $t
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:471    .text.ErrorMgr_HasErrors:00000000 ErrorMgr_HasErrors
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:494    .text.ErrorMgr_HasWarnings:00000000 $t
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:500    .text.ErrorMgr_HasWarnings:00000000 ErrorMgr_HasWarnings
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:523    .text.ErrorMgr_SetState:00000000 $t
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:529    .text.ErrorMgr_SetState:00000000 ErrorMgr_SetState
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:597    .text.ErrorMgr_SetState:00000040 $d
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:603    .text.ErrorMgr_GetState:00000000 $t
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:609    .text.ErrorMgr_GetState:00000000 ErrorMgr_GetState
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:654    .text.ErrorMgr_GetState:00000024 $d
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:660    .text.ErrorMgr_GetStatus:00000000 $t
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:666    .text.ErrorMgr_GetStatus:00000000 ErrorMgr_GetStatus
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:738    .text.ErrorMgr_GetStatus:00000040 $d
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:744    .text.ErrorMgr_UpdateUptime:00000000 $t
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:750    .text.ErrorMgr_UpdateUptime:00000000 ErrorMgr_UpdateUptime
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:790    .text.ErrorMgr_UpdateUptime:00000024 $d
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:796    .rodata.str1.4:00000000 $d
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:800    .rodata.error_mutex_attributes:00000000 $d
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:807    .bss.error_mutex:00000000 $d
C:\Users\Ali\AppData\Local\Temp\cchWbNGk.s:813    .bss.error_mgr:00000000 $d

UNDEFINED SYMBOLS
osKernelGetTickCount
osMutexNew
osMutexAcquire
osMutexRelease
