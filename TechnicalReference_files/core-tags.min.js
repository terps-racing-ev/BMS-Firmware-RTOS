riot.tag("ti-raw","<span><yield ></yield></span>",function(e){var t=this;t.handleshtml=t.root.dataset.handleshtml,t.handleshtml?t.root.innerHTML=e.content.replace(/\\{/g,"{"):t.root.innerHTML=e.content,t.on("update",function(){t.handleshtml?t.root.innerHTML=e.content.replace(/\\{/g,"{"):t.root.innerHTML=e.content})}),riot.tag("ti-about",'<div class="about" show="{ about }" onclick="{ hide_about }"> <div class="about-complimenta"></div> <div class="about-complimentb"></div> </div>',function(e){var t=this;t.show_about=function(){t.about=!0},t.hide_about=function(){t.about=!1}}),riot.tag("ti-select",'<label for="{ name }">{ title }</label> <select id="{ id }" name="{ name }"> <option each="{ options }" value="{ value }">{ label }</option> </select>',function(e){this.store=e.store,this.id=e.id||e.params.id,this.name=e.name||e.params.name||e.id||e.params.id,this.title=e.title||e.params.title,this.options=e.options||e.params.options}),riot.tag("ti-search",'<div class="search-wrapper"> <form> <input onkeyup="{ change_keyword }" onkeypress="return event.keyCode != 13;" class="search-field" maxlength=100 required> <span class="bar"></span> <i class="search-button" onclick="{ submit_search_query }">search</i> <label></label> <span class="helper-text is-hidden u-no-select">No matches found.</span> </form> </div>',function(e){var t=this;t.store=e.store,t.riot_trigger=e.riot_trigger,t.keyword="",t.mounted=!1,t.prepopulate_search=!1,t.change_keyword=function(e){return 13==e.keyCode&&void t.submit_search_query(e)},t.submit_search_query=function(e){var o=t.root.querySelector(".search-field").value;return RiotControl.trigger(t.riot_trigger,{keyword:o}),!1},t.on("mount",function(){t.prepopulate_search&&(t.prepopulate_search=!1,t._search()),t.mounted=!0}),t._search=function(){t.root.querySelector(".search-field").value=t.keyword,t.submit_search_query(),setTimeout(function(){t.root.querySelector(".search-field").focus()},500)},RiotControl.on("ti_library_viewer_search",function(e){t.keyword=e.keyword,t.mounted?t._search():t.prepopulate_search=!0})}),riot.tag("ti-list",'<ul class="tiLibrary-collection" data-lid="ti-list"> <li class="collection-item avatar" each="{items}"> <div class="form-item"> <i class="list"></i> <span class="title">{ title }</span> </div> </li> </ul>',function(e){this.store=e.store,this.id=e.id||e.params.id,this.items=e.items||e.params.items}),riot.tag("ti-library-list-command-bar",'<div class="c12" id="tiLibrary-nav" data-lid="ti-library-list-command-bar"> <div class="nav-wrapper"> <div class="c4">  </div> </div> </div>',function(e){var t=this;t.store=e.store,t.options={"TI LIBRARY":[{id:"properties_button",label:"Properties",icon:"info",href:"",disabled:function(){return!t.selected&&!t.opened},callback:function(){return!(!t.selected&&!t.opened)&&(t.opened&&(t.opened=!1),void RiotControl.trigger("ti_library_toggle_properties_area"))}},{id:"open_button",label:"Open",href:"",icon:"open",disabled:function(){return!t.selected||t.multiple_selected},callback:function(){return!(!t.selected||t.multiple_selected)&&(RiotControl.trigger("ti_library_route_open_viewer",{document:t.selected_document,init:!0}),!1)}}],"myTI LIBRARY":[{label:"Properties",href:""},{label:"Copy",href:""},{label:"Move",href:""},{label:"Rename",href:""},{label:"Delete",href:""}],"Table of Contents":[{label:"Close",href:"",icon:"close"},{label:"Email",href:"",icon:"email"},{label:"Download",href:"",icon:"download"},{label:"TI store",href:"",icon:"tiStore"}]},t.items=t.options[t.store.section()],t.selected=!1,t.opened=!1,t.multiple_selected=!1,t.selected_document=void 0,RiotControl.on("ti_library_update_doc_selections",function(){t.items=t.options[t.store.section()],t.update()}),RiotControl.on("ti_library_has_documents_selected",function(){t.selected=!0,1==t.store.filtered_document_list.length?(t.multiple_selected=!1,t.selected_document=t.store.filtered_document_list[0]):(t.multiple_selected=!0,t.selected_document=void 0),t.update()}),RiotControl.on("ti_library_no_documents_selected",function(){t.selected=!1,t.multiple_selected=!1,t.update()}),RiotControl.on("ti_library_show_properties",function(){t.opened=!0,t.update()}),RiotControl.on("ti_library_hide_properties",function(){t.opened=!1,t.update()}),t.on("mount",function(){})}),riot.tag("ti-library-list-content-area",'<i class="material-icons"></i> <div class="c9 cEnd" data-lid="ti-library-list-content-area"> <div class="card white darken-1 main-content"> <div class="card-content mod-teal-border-top u-no-padding"> <h3 class="card-title">{ gpn } technical documents</h3> <table id="tiLibrary-techdocs-table" class="tiLibrary mod-table-highlight"> <thead> <tr> <th></th> <th class="left u-no-select mod-cell-flex" data-field="name" onclick="{ toggle_column }"><i class="{ sort_icon_css_classes(\'name\') }" data-field="name"></i>Name</th> <th class="left u-no-select" each="{ column, i in visible_document_list_facets }" data-field="{ column }" onclick="{ toggle_column }"> <i class="{ sort_icon_css_classes(column) }" data-field="{ column }"></i> { column } </th> <th><a id="doc_columns_dropdown_button" class="dropdown-button" href="" data-activates="doc_columns_dropdown" data-constrainwidth="false" data-alignment="right" data-restrictposition="true" onclick="return false;"><i class="material-icons more-horiz"></i></a> </th> </tr> </thead> <tbody> <tr each="{ item, i in items }" oncontextmenu="{ show_content_context_menu }" data-id="{ \'ti-library_\' + i }" class="{ selected: item.selected }"> <td> <input type="checkbox" class="filled-in" id="{ \'ti-library_\' + i }" onclick="{ select_doc }" __checked="{ item.selected }"> <label for="{ \'ti-library_\' + i }" ></label> </td> <td><a href="" title="{ item.tooltip }" onclick="{ open_viewer }"><ti-raw class="techdoc-name" content="{ item.label + (item.doc_type ? \' (\' + item.doc_type + \')\' : \'\') }"></ti-raw></a></td> <td class="" each="{ column, i in visible_document_list_facets }">{ item[column] }</td> <td><a id="doc_columns_dropdown_button" class="dropdown-button" href="" data-activates="content_context_menu" data-constrainwidth="false" data-alignment="right" data-restrictposition="true" onclick="{ handle_dropdown_menu }"><i class="material-icons more"></i></a></td> </tr> </tbody> </table> </div> </div> </div> <ul id="doc_columns_dropdown" class="dropdown-content mod-dropdown-check u-no-select"> <li each="{ option, i in column_options }"><a class="dropdown-button" href="" onclick="{ toggle_doc_option }" data-option="{ option }"><i class="{ material-icons: selected_column_options[option], check:selected_column_options[option], unchecked: !selected_column_options[option] }"></i>{ option }</a></li> </ul> <ul id="content_context_menu" class="dropdown-content"> <li class="mod-dropdown-content-disabled mod-dropdown-content-divider"> <a class="dropdown-button" href="" id="dropdown-content-indicator">2 items selected</a> </li> <li data-function="open" class="mod-dropdown-content-disabled"> <a class="dropdown-button" href="" onclick="{ open_document }">Open</a> </li> <li data-function="properties" class="mod-dropdown-content-disabled"> <a class="dropdown-button" href="" onclick="{ show_properties }">Properties</a> </li> <li data-function="rename" class="mod-dropdown-content-disabled"> <a class="dropdown-button" href="" onclick={}>Rename</a> </li> <li data-function="copyTo" class="mod-dropdown-cascading-item"> <a class="dropdown-button" href="" onclick={}>Copy to</a> <i class="material-icons arrow-cascading"></i> </li> <li data-function="moveTo" class="mod-dropdown-cascading-item"> <a class="dropdown-button" href="" onclick={}>Move to</a> <i class="material-icons arrow-cascading"></i> </li> <li data-function="delete"> <a class="dropdown-button" href="" onclick={}>Delete</a> </li> </ul>',function(e){var t=this;utils=com.TI.util,t.store=e.store,t.column_options=t.store.document_list_facets,t.gpn=t.store.gpn,t.selected_column_options=t.store.selected_document_list_facets,t.sort_column=null,t.sort_direction=null,t.bulk_functions=["copyTo","moveTo","delete"],t.individual_functions=["rename","properties","open"],t.toggle_doc_option=function(e){return RiotControl.trigger("ti_library_change_doc_options",{option:e.item.option}),!1},t.format_date=function(e){return void 0==e?"":e.toDateString()},t.update_items=function(){t.items=[];for(var e,o=t.store.any_doc_types_selected,r=0;r<t.store.document_types.length;r++)if(e=t.store.document_types[r],void 0!=t.store.documents[e]&&(!o||t.store.selected_doc_types[e]))for(var i=t.store.documents[e],n=0;n<i.length;n++)t.items.push({label:i[n].label,tooltip:void 0==i[n].text?i[n].tooltip:i[n].text,href:i[n].href,"Release date":t.format_date(i[n].create_date),"Revised date":t.format_date(i[n].revised_date),"Document type":e,"Date added":t.format_date(new Date),"Document format":i[n].format,"Document size":i[n].size,"Last viewed":t.format_date(new Date),item:i[n],selected:i[n].selected})},t.update_items(),t.visible_document_list_facets=[],t.update_document_list_facets=function(){t.visible_document_list_facets=[];for(var e=0;e<t.column_options.length;e++)t.selected_column_options[t.column_options[e]]&&t.visible_document_list_facets.push(t.column_options[e])},t.update_document_list_facets(),t.toggle_document_selection=function(e){e.target.checked?RiotControl.trigger("ti_library_add_selected_document",{item:e.item.item.item}):RiotControl.trigger("ti_library_remove_selected_document",{item:e.item.item.item}),RiotControl.trigger("ti_library_update_properties"),RiotControl.trigger("ti_library_hide_properties")},t.context_menu_target=void 0,t.show_content_context_menu=function(e){t.handle_dropdown_menu(e),t.context_menu_target=e.item.item.item;var o=$("#content_context_menu"),r=$(e.target).position();o.css({position:"absolute",top:e.offsetY+r.top,left:e.offsetX+r.left}),o.stop(!0,!0).css("opacity",0).slideDown({queue:!1,duration:300,easing:"easeOutCubic",complete:function(){$(this).css("height","")}}).animate({opacity:1},{queue:!1,duration:300,easing:"easeOutSine"}),RiotControl.trigger("ti_library_hide_properties")},t.show_properties=function(e){var o=$("#content_context_menu");o.fadeOut(300),RiotControl.trigger("ti_library_show_properties",{documents:[t.context_menu_target]})},t.handle_dropdown_menu=function(e){var o=t.root.getElementsByClassName("techdoc-selected").length,r=t.root.querySelector("#dropdown-content-indicator");if(o<=1){utils.addClass(r.parentElement,"u-hidden");for(var i=0;i<t.individual_functions.length;i++)utils.removeClass(t.root.querySelector("[data-function="+t.individual_functions[i]+"]"),"mod-dropdown-content-disabled")}else{for(var i=0;i<t.individual_functions.length;i++)utils.addClass(t.root.querySelector("[data-function="+t.individual_functions[i]+"]"),"mod-dropdown-content-disabled");utils.removeClass(r.parentElement,"u-hidden"),r.innerHTML=o+" item selected"}},t.open_document=function(e){var o=$("#content_context_menu");o.fadeOut(300),t._open_viewer(t.context_menu_target)},t.open_viewer=function(e){return t._open_viewer(e.item.item.item),!1},t._open_viewer=function(e){var t=!1;"HTML"==e.format&&(RiotControl.trigger("ti_library_route_open_viewer",{document:e,init:!0}),t=!0),"PDF"==e.format&&(window.open(e.href,"_blank"),t=!0),t||console.log("Unsupported document format: "+e.format)},t.toggle_column=function(e){var o=e.target.getAttribute("data-field");null!=o&&(t.sort_column!=o?(t.sort_column=o,t.sort_direction="asc"):t.flip_arrow(),t.sort_table(t.sort_column,t.sort_direction))},t.select_doc=function(e){var o=e.target.getAttribute("id"),r=t.root.querySelector("[data-id='"+o+"']");r.classList.toggle("techdoc-selected")},t.sort_table=function(e,o){"Release date"===e||"Revised date"===e?t.sort_table_date(e,o):"Document size"===e?t.sort_table_num(e,o):t.sort_table_text(e,o)},t.sort_table_date=function(e,o){"asc"===o?t.items.sort(function(t,o){return Date.parse(t[e])-Date.parse(o[e])}):t.items.sort(function(t,o){return Date.parse(o[e])-Date.parse(t[e])}),t.update()},t.sort_table_num=function(e,o){"asc"===o?t.items.sort(function(t,o){return t[e]-o[e]}):t.items.sort(function(t,o){return o[e]-t[e]}),t.update()},t.sort_table_text=function(e,o){"name"===e&&(e="label"),"asc"===o?t.items.sort(function(t,o){var r=t[e].toLowerCase(),i=o[e].toLowerCase();return r<i?-1:r>i?1:0}):t.items.sort(function(t,o){var r=t[e].toLowerCase(),i=o[e].toLowerCase();return r>i?-1:r<i?1:0}),t.update()},t.flip_arrow=function(){"asc"==t.sort_direction?t.sort_direction="desc":t.sort_direction="asc"},t.sort_icon_css_classes=function(e){var o="sort-default",r="";return t.sort_column==e&&(o="show"),"desc"==t.sort_direction&&(r="rotated"),"materials-icons mod-column-right "+o+" "+r+" sort-ascend"},RiotControl.on("ti_library_update_content",function(){t.update_document_list_facets(),t.update(),RiotControl.trigger("ti_library_hide_properties")}),RiotControl.on("ti_library_update_doc_selections",function(){t.update_document_list_facets(),t.update_items(),t.update(),RiotControl.trigger("ti_library_hide_properties")}),t.on("mount",function(){})}),riot.tag("ti-library-list-document-types-filter",'<form action="#" class="tiLibrary-collection" data-lid="ti-library-list-document-types-filter"> <p each="{items}"> <input type="checkbox" __disabled="{!value}" class="filled-in" id="{ id }" __checked="{ selected }" onclick="{ change_doc_type_selection }"> <label class="{ disabled: !value }" for="{ id }" >{ label } ({ value })</label> </p> </form>',function(e){var t=this;t.store=e.store,t.update_items=function(){t.items=[];for(var e,o=0;o<t.store.document_types.length;o++)e=t.store.document_types[o],t.items.push({id:e,label:e,value:void 0==t.store.documents[e]?0:t.store.documents[e].length,selected:t.store.selected_doc_types[e]})},t.update_items(),t.change_doc_type_selection=function(e){RiotControl.trigger("ti_library_change_doc_type_selection",{doc_type:e.item.id})},RiotControl.on("ti_library_update_doc_type_options",function(){t.update_items(),t.update()})}),riot.tag("ti-library-list-properties-area",'<div id="{ id }" class="white u-no-margin-top properties-area" data-lid="ti-library-list-properties-area"> <ul> <li> <div class="background blue darken-2 properties-header"> <h3 class="white-text name"><ti-raw content="{ properties_header }"></ti-raw></h3> </div> </li> <li> <h5>Document Type</h5> <a>{ properties_doc_type }</a> </li> <li show="{ !multiple_selected }"> <h5>Matching Text</h5> <a>{ properties_text }</a> </li> <li show="{ !multiple_selected }"> <h5>Release Date</h5> <a>{ properties_create_date }</a> </li> <li show="{ !multiple_selected }"> <h5>Revised Date</h5> <a>{ properties_revised_date }</a> </li> <li show="{ !multiple_selected }"> <h5>Address</h5> <a>{ properties_address }</a> </li> <li> <h5>Format</h5> <a>{ properties_format }</a> </li> <li> <h5>Size</h5> <a>{ properties_size }</a> </li> </ul> </div>',function(e){var t=this;t.id=e.id,t.store=e.store,t.visible=!1,t.selected_documents=[],t.properties_header="",t.properties_doc_type="",t.properties_text="",t.properties_create_date="",t.properties_revised_date="",t.properties_address="",t.properties_format="",t.properties_size="",t.multiple_selected=!1,t._update_properties=function(){1==t.selected_documents.length?(t.properties_header=t.selected_documents[0].label,t.properties_doc_type=t._aggregate_doc_type(),t.properties_text=t.selected_documents[0].text,t.properties_create_date=t.selected_documents[0].create_date,t.properties_revised_date=t.selected_documents[0].revised_date,t.properties_address=t.selected_documents[0].href,t.properties_format=t._aggregate_formats(),t.properties_size=t._calculate_doc_sizes(),t.multiple_selected=!1):(t.properties_header=t.selected_documents.length+" documents selected",t.properties_doc_type=t._aggregate_doc_type(),t.properties_text="",t.properties_create_date="",t.properties_revised_date="",t.properties_address="",t.properties_format=t._aggregate_formats(),t.properties_size=t._calculate_doc_sizes(),t.multiple_selected=!0)},t._aggregate_doc_type=function(){return t._aggregate("doc_type")},t._aggregate=function(e,o){if(void 0==o&&(o="Unknown"),1==t.selected_documents.length){var r=t.selected_documents[0][e];return void 0==r||""==r?o:r}for(var i=[],n={},a=0;a<t.selected_documents.length;a++){var r=t.selected_documents[a][e];void 0!=r&&""!=r||(r=o),void 0==n[r]?(n[r]=1,i.push(r)):n[r]=n[r]+1}for(var l="",a=0;a<i.length;a++){var r=i[a];l=l+r+" ("+n[r]+"), "}return l.slice(0,-2)},t._aggregate_formats=function(){return t._aggregate("format")},t._calculate_doc_sizes=function(){for(var e=0,o="B",r=0;r<t.selected_documents.length;r++){var i=t.selected_documents[r].size;if(void 0!=i){var n=i.slice(-1).toUpperCase(),a=1;"B"==n?(i=i.slice(0,-1),n=i.slice(-1).toUpperCase(),t._is_valid_unit(n)?(i=i.slice(0,-1),a=t._calculate_size_multiplier(n)):a=1):t._is_valid_unit(n)?(i=i.slice(0,-1),a=t._calculate_size_multiplier(n)):a=1,e+=parseInt(i,10)*a}}for(var l=["K","M","G","T"],r=0;r<l.length;r++)e>1024&&(e/=1024,o=l[r]+"B");return Math.round(1e3*e)/1e3+o},t._is_valid_unit=function(e){return"B"==e||"K"==e||"M"==e||"G"==e||"T"==e},t._calculate_size_multiplier=function(e){for(var t=1,o=["K","M","G","T"],r=0;r<o.length;r++)if(t=1024*t,e==o[r])return t;return 1},t._trigger_properties_update=function(e){null!=e?t.selected_documents=e:t.selected_documents=t.store.filtered_document_list,t._update_properties(),t.update()},RiotControl.on("ti_library_toggle_properties_area",function(e){t.visible||t._trigger_properties_update(e);var o=["0%","100%"],r=[1,0];t.visible&&(o=["100%","0%"],r=[0,1]),$("#"+t.id).velocity({translateX:o,opacity:r},{duration:200,queue:!1,easing:"easeOutCubic",complete:function(){}}),t.visible=!t.visible}),RiotControl.on("ti_library_show_properties",function(e){t.visible?t._trigger_properties_update(e.documents):RiotControl.trigger("ti_library_toggle_properties_area",e.documents)}),RiotControl.on("ti_library_hide_properties",function(){t.visible&&RiotControl.trigger("ti_library_toggle_properties_area")}),t.on("mount",function(){})}),riot.tag("ti-library-list-side-bar",'<div class="c3 cEnd" data-lid="ti-library-list-side-bar">   <div class="card sidebar" id="TILibrary-collection"> <div class="card-content sidebar-content mod-teal-border-top">  <ul class="sidebar-content-nav no-style"> <li><a href="" class="active" data-view="sidebar-view-product" onclick="{ change_views }">DRV2625 documents</a></li> <li><a href="" onclick="return false;">All documents</a></li> <li><a href="" data-view="sidebar-view-myDocuments" onclick="{ change_views }">My documents</a></li> </ul>   <div id="sidebar-view-product" class="sidebar-view active"> <div class="search-area" id="search_box"> <ti-search store="{ store }" riot_trigger="ti_library_query_search_results"></ti-search> </div> <div class="sidebar-content-filters"> <ti-library-list-document-types-filter store="{ store }"></ti-library-list-document-types-filter> </div> </div>  <div id="sidebar-view-myDocuments" class="sidebar-view"> <div class="sidebar-content-inbox"> <ul class="tiLibrary-collection no-style"> <li class="collection-item avatar"> <i class="circle-bg material-icons mail mod-mail-new-items"></i> <span class="title"><strong>myTI Library inbox</strong></span> <p>3 new items</p> </li> </ul>  </div> <div class="sidebar-content-list"> <span class="sidebar-content-heading">My lists</span> <ti-list params="{list_options}"></ti-list> </div> <div class="sidebar-content-fab"> <a class="btn-floating btn-large"><i class="material-icons plus"></i></a> </div> </div> </div>  </div>',function(e){var t=this;utils=com.TI.util,t.store=e.store,riot.mount("ti-search"),t.change_views=function(e){utils.removeClass(document.querySelector(".sidebar-content-nav .active"),"active"),utils.addClass(e.currentTarget,"active"),utils.removeClass(document.querySelector(".sidebar-view.active"),"active"),utils.addClass(document.getElementById(e.currentTarget.dataset.view),"active")},t.list_options={id:"myTILibrary_list",items:[{title:"Pellentesque"},{title:"Semper ante"},{title:"Luctus"},{title:"Allquam"},{title:"Venenatis ligula"},{title:"Convallis omare"}]},riot.mount("ti-list"),riot.mount("ti-library-list-document-types-filter")}),riot.tag("ti-library-list-tab-bar",'<ul class="tiLibrary-tabs no-style" style="width: 100%;" data-lid="ti-library-list-tab-bar"> <li class="tiLibrary-tab" each="{ tabs }"> <a class="{ store.is_active_section(this.id) ? \'active\' : \'\' }" onclick="{ change_sections }" href="{ href }" data-id="{ id }">{ label }</a> </li> </ul>',function(e){var t=this;t.store=e.store,t.tabs=t.store.get_section_options(),t.change_sections=function(e){return RiotControl.trigger("ti_library_change_sections",{section:e.item.id}),!1}}),riot.tag("ti-library-list",'<ti-library-list-side-bar store="{ store }"></ti-library-list-side-bar> <ti-library-list-content-area store="{ store }"></ti-library-list-content-area> <ti-library-list-properties-area id="properties_area" store="{ store }"></ti-library-list-properties-area> <ti-about></ti-about>',function(e){var t=this;t.store=e.store,t.viewerstore=e.viewerstore,t.version="v1.6.5",RiotControl.on("ti_library_list_reload_content",function(){RiotControl.trigger("ti_library_update_doc_selections"),RiotControl.trigger("ti_library_update_doc_type_options")}),t.on("mount",function(){riot.mount("ti-library-list-command-bar, ti-library-list-side-bar, ti-library-list-content-area",{store:t.store,viewerstore:t.viewerstore}),riot.mount("ti-library-list-properties-area",{id:"properties_area",store:t.store})})}),riot.tag("ti-library-viewer-command-bar",'<div class="row u-no-margin-bottom viewer" id="tiLibrary-nav" data-lid="ti-library-viewer-command-bar"> <div class="nav-wrapper"> <div class="flex3"> <ul class="cmd-bar no-style"> <li each="{ options }" type="{type}" class="{ attrs.mobile ? \'\' : \'no-mobile\' } { attrs.desktop ? \'\' : \'no-desktop\' } { attrs.hide ? \'datasheet-hide\' : \'datasheet-show\' } "> <div class="cmd-btn-container"> <i class="material-icons { icon }"></i> <a href="{ href }" class="icon-text" onclick="{ callback }" onmouseover="{ hoverover }" onmouseout="{ hoverout }" id="{ id }">{ label }</a> </div> </li> </ul> </div> <div class="flex9" style="height:100%;"> <ul class="cmd-bar no-style"> <li class="cmd-bar-title flex-left"> <div> <h2 class="u-no-margin-bottom"> <ti-raw content="{ document.label }"></ti-raw> </h2> </div> <span class="flex-right menu-container"> <a id="cmd-bar-title-button" class="dropdown-button" href="" data-activates="dropdown_docinfo" data-beloworigin="true" data-constrainwidth="false" data-alignment="right" onclick="event.preventDefault();"><i class="material-icons more-horiz circle-border"></i></a> </span> </li> </ul>  <ul id="dropdown_docinfo" class="dropdown-content mod-dropdown-docinfo"> <li class="odsHeader_content"><ti-raw content="{ header_content }"></ti-raw></li> </ul> </div> </div> </div>',function(e){var t=this;t.document={},t.header_content="",t.options=[{id:"menu_button",label:"Menu",icon:"menu",href:"",attrs:{mobile:!0,desktop:!1,hide:!1},hoverover:function(){},hoverout:function(){},callback:function(){t.toggle_menu()}},{id:"close_button",label:"Product",icon:"gotoProduct",href:"",attrs:{mobile:!0,desktop:!0,hide:!0},hoverover:function(){},hoverout:function(){},callback:function(){t.go_to_product()}},{id:"email_button",label:"Email",icon:"email",href:"",attrs:{mobile:!1,desktop:!0,hide:!1},hoverover:function(){},hoverout:function(){},callback:function(){t.open_email()}},{id:"download_button",label:"PDF",icon:"download",href:"",attrs:{mobile:!1,desktop:!0,hide:!1},hoverover:function(){},hoverout:function(){},callback:function(){t.download_document()}},{id:"tistore_button",label:"Order now",icon:"tiStore",href:"",attrs:{mobile:!1,desktop:!0,hide:!0},hoverover:function(){},hoverout:function(){},callback:function(){t.go_to_product_ordernow_table()}}],t.toggle_menu=function(){RiotControl.trigger("ti_library_toggle_mobile_toc")},t.go_to_product=function(){t.document.product>""?t._open_in_same_window(t.document.product):RiotControl.trigger("ti_library_close_viewer")},t.go_to_product_ordernow_table=function(){t.document.product>""?t._open_in_same_window(t.document.product+"#order-quality"):RiotControl.trigger("ti_library_close_viewer")},t.open_email=function(){t.document.email>""?t._open_in_same_window(t.document.email):console.log("Cannot open email link")},t.download_document=function(){t.document.download>""?window.open(t.document.download):console.log("Cannot download PDF")},t.find_part_in_store=function(){t.document.tistore>""?window.open(t.document.tistore):console.log("Cannot open link to store")},t._open_in_same_window=function(e){window.location.href=e},RiotControl.on("ti_library_prepopulate_description",function(e){t.document=e.document,RiotControl.trigger("ti_library_set_document_odsHeader",{odsHeader:e.odsHeader.innerHTML})}),RiotControl.on("ti_library_set_document_odsHeader",function(e){t.header_content=e.odsHeader,t.update()}),RiotControl.on("ti_library_set_document_title",function(e){e.document&&e.document.title&&(t.document=e.document,t.document.label=e.document.title,t.document.productStatus=e.document.productstatusdescription,t.document.productStatus&&(t.document.productStatus=t.document.productStatus.replace(/\.$/,"")),t.update())}),t.handle_menu=function(e){e||(e=window.event);var o=e.target||e.srcElement;e.preventDefault();var r=o.href;return"A"===o.tagName&&t._open_in_same_window(r),!1},t.on("mount",function(){t.dropdown_docinfo.addEventListener("click",t.handle_menu,!1)})}),riot.tag("ti-library-viewer-content-area",'<div class="cEnd content-area" data-lid="ti-library-viewer-content-area"> <div class="card mininav u-no-margin-top u-no-margin-bottom"> <div class="nav-wrapper"> <ul class="left"> <li id="tiLibrary_margin_activator"><a class="dropdown-button" data-activates="tiLibrary_margin_dropdown"><i class="material-icons right"></i><ti-raw content="{ margin }"></ti-raw></a> </li> </ul>  <ul id="tiLibrary_margin_dropdown" class="dropdown-content mod-dropdown-mininav"> <li><a class="dropdown-button" onclick="{ change_margin }" data-option="Large">Comfortable reading width</a></li> <li><a class="dropdown-button" href="" onclick="{ change_margin }" data-option="Medium">Expanded reading width</a></li> <li><a class="dropdown-button" onclick="{ change_margin }" data-option="Small">Full reading width</a></li> </ul> <ul id="tiLibrary_cardstyle_dropdown" class="dropdown-content"> <li><a class="dropdown-button" href="" onclick="{ change_cardstyle }" data-option="Card for Each Section">Card for each section</a></li> <li><a class="dropdown-button" href="" onclick="{ change_cardstyle }" data-option="Card with All Content">Card with all content</a></li> </ul> </div> </div> <div class="cardWrapper"> <div class="" id="loadContentArea" tabindex="-1"> <div class="u-invisible" id="previous_content_placeholder"> <h2>&nbsp;</h2> </div> <div class="card-content odsContent font-medium margin-large card-per-section"> <ti-raw content="{ content }" data-handleshtml="true" ></ti-raw> </div> <div class="u-invisible" id="next_content_placeholder"> <h2>&nbsp;</h2> </div> </div> </div> </div>',function(e){var t=this,o=com.TI.util;t.store=e.viewerstore,t.pending_fill=!1,t.content="",t.highlight_terms=[],t.has_unhighlighted_content=!0,t.didScroll=!1,t.pauseScrollHandler=!1,t.previous_content_available=!0,t.next_content_available=!0,t.loading=!1,t.current_content_height=0,t.request_number=0,t.current_section="toc",t.current_topic=null,t.title=null,t.disclaimer=null,t.docType=null,t.fullDoc=!1,t.fullDocPagesLoaded=0,t.loadedSections=[],t.margin="Full reading width",t.cardstyle="Card for each section",t.section_classes="card white darken-1",RiotControl.on("ti_library_viewer_change_sections",function(e){t.current_section=e.section,t.root.querySelector("#loadContentArea").classList.remove("toc"),t.root.querySelector("#loadContentArea").classList.remove("search"),t.root.querySelector("#loadContentArea").classList.add(t.current_section),"search"==t.current_section&&t.highlight_terms.length>0&&t.has_unhighlighted_content&&(t.content=t._highlight_content(t.content),t.content=t._escape_text(t.content),t.update())}),t.addJustDisclaimer=function(e,o){const r=new DOMParser,i=r.parseFromString(e,"text/html");var n=i.getElementsByClassName("html-title")[0],a=t.htmlElementFromItem(i,o);a&&n.insertAdjacentElement("afterend",a);var l=i.documentElement.innerHTML;return l},t.htmlElementFromItem=function(e,t){var o=e.createElement(t.tag);return o&&(o.innerHTML=t.html,t.id&&(o.id=t.id),t["class"]&&o.classList.add(t["class"])),o},t.insertIntoFirstSubsection=function(e,o){const r=new DOMParser,i=r.parseFromString(e,"text/html");var n=i.getElementsByTagName("div")[0],a=null;if(n){var l=n.getElementsByClassName("subsection");if(l&&l.length>0){for(var c=l[0],s=0;s<o.length;s++){var d=o[s],_=t.htmlElementFromItem(i,d);_&&c.prepend(_)}a=i.documentElement.innerHTML}}return a},t.updateHTMLTitle=function(){RiotControl.trigger("ti_library_viewer_setup_html_title");var e=null;if(t.title&&t.content.indexOf("html-title")==-1){var o={tag:"div","class":"doc-type",html:t.docType.toUpperCase()};t.disclaimer||(t.disclaimer="");var r={tag:"div","class":"translation-disclaimer",html:t.disclaimer},i={tag:"h1","class":"html-title",html:t.title},n={tag:"div","class":"red-divider-container",html:"<div class='red-divider'></div>"},a=[n,r,i,o];e=t.insertIntoFirstSubsection(t.content,a)}if(t.disclaimer&&t.content.indexOf("html-title")>-1&&t.content.indexOf("translation-disclaimer")==-1){var r={tag:"div","class":"translation-disclaimer",html:t.disclaimer};e=t.addJustDisclaimer(t.content,r)}e&&(t.content=e,t.update())},RiotControl.on("ti_library_set_document_title",function(e){e.document.title&&(t.title=e.document.title,t.docType=e.document.doc_type,e.document.disclaimer?t.disclaimer=e.document.disclaimer:t.disclaimer="",t.updateHTMLTitle())}),t.alreadyLoadedHTML=function(e){var o=!1;if(t.loadedSections)for(var r=0;r<t.loadedSections.length;r++)e==t.loadedSections[r]&&(o=!0);else t.loadedSections=[];return t.loadedSections.push(e),o},t.getJumpIdCookie=function(){var e=null,t=document.cookie;return t.indexOf("jumpId")>-1&&(e=("; "+document.cookie).split("; jumpId=").pop().split(";")[0]),e},t.urlToAnchor=function(e){var t=null;if(e.indexOf("#")>-1){var o=e.split("#");if(2==o.length){var r=o[1].split("/");2==r.length&&(t=r[1])}}return t},t.isInViewPort=function(e){var t=e.offset().top,o=t+e.outerHeight(),r=$(window).scrollTop(),i=r+window.innerHeight;return o>r&&t<i},RiotControl.on("ti_library_set_document_content",function(e){var o=!t.content;if(t.request_number==e.request_number?t.request_number=t.request_number+1:console.log("unexpected request number encountered"),"append"==e.mode){var r=t.root.querySelector("#loadContentArea > .odsContent > ti-raw"),i=t.root.querySelector("#loadContentArea"),n=i.scrollHeight;i.scrollTop;if(t.fullDoc||t._trim_content(e.direction,r,i),"top"==e.direction){n=i.scrollHeight,t.content="<div class='"+t.section_classes+" documentSection' data-url='"+e.url+"'>"+e.content+"</div>"+r.innerHTML,t.content=t._highlight_content(t.content),t.content=t._escape_text(t.content),t.update();var a=i.scrollHeight,l=a-n;l>100&&(l-=100);t.root.querySelector("#previous_content_placeholder").getBoundingClientRect();$("#loadContentArea").scrollTop(l)}if("bottom"==e.direction&&e.content&&e.content.trim().length>0&&(!t.fullDoc||!t.alreadyLoadedHTML(e.content))){t.content=r.innerHTML+"<div class='"+t.section_classes+" documentSection' data-url='"+e.url+"'>"+e.content+"</div>",t.content=t._highlight_content(t.content),t.content=t._escape_text(t.content),t.update();var c=t.getJumpIdCookie();if(c)console.log("-- direction - bottom - found jumpID: "+c),t.jumpToInternalAnchor(c);else{var s=t.urlToAnchor(e.url);if(s){var d=$("#"+s);if(d&&d.length){var _=t.isInViewPort(d);_||d[0].scrollIntoView()}}}}}else{t.content="<div class='"+t.section_classes+" documentSection' data-url='"+e.url+"'>"+e.content+"</div>",t.content=t._highlight_content(t.content),
t.content=t._escape_text(t.content),t.previous_content_available=!0,t.next_content_available=!0,t.update();var c=t.getJumpIdCookie();if(c)console.log("-- direction : "+e.direction+" - found jumpID: "+c),t.jumpToInternalAnchor(c);else{for(var u=t.root.querySelector("#loadContentArea").querySelectorAll("img"),p=0,m=e.url,h=0;h<u.length;h++)u[h].addEventListener("load",function(){p++,p==u.length&&(void 0!=e.scroll_timeout&&clearTimeout(e.scroll_timeout),o||0===t.store.toc_map[m]||(e.scroll_timeout=setTimeout(function(){RiotControl.trigger("ti_library_viewer_scroll_to_anchor",{url:m,anchor:e.anchor,search:"search"==t.current_section})},600)))}),u[h].addEventListener("error",function(){p++,p==u.length&&(void 0!=e.scroll_timeout&&clearTimeout(e.scroll_timeout),o||0===t.store.toc_map[m]||(e.scroll_timeout=setTimeout(function(){RiotControl.trigger("ti_library_viewer_scroll_to_anchor",{url:m,anchor:e.anchor,search:"search"==t.current_section})},600)))});0==u.length&&(o||0===t.store.toc_map[m]||RiotControl.trigger("ti_library_viewer_scroll_to_anchor",{url:m,anchor:e.anchor,search:"search"==t.current_section}))}}var v=t.loadContentArea.querySelector(".odsContent");t._fill_content(v,t.loadContentArea),0==t.store.toc_map[e.url]&&t.updateHTMLTitle(),t.loading=!1,"append"==e.mode&&(t.pauseScrollHandler=!1),t.root.querySelector("#loadContentArea").classList.add("not-loading")}),RiotControl.on("ti_library_load_full_doc",function(e){$("#previous_content_placeholder").remove(),$("#next_content_placeholder").remove(),t.fullDoc=!0,t.fullDocPagesLoaded=1}),RiotControl.on("ti_library_hide_toc",function(){t.current_section="search",$(".indicator").hide()}),RiotControl.on("ti_library_viewer_highlight_terms",function(e){t.highlight_terms!=e.terms&&(t.highlight_terms=e.terms,t.content=t._highlight_content(t.content),t.update())}),RiotControl.on("ti_library_viewer_clear_highlight",function(e){t.highlight_terms=[],t.content=t._clear_highlight(t.content),t.content=t._escape_text(t.content),t.update()}),RiotControl.on("ti_library_viewer_previous_content_available",function(e){t.pauseScrollHandler=!1,t.previous_content_available=!0,t.loading=!1,t.root.querySelector("#loadContentArea").classList.add("not-loading")}),RiotControl.on("ti_library_viewer_previous_content_unavailable",function(e){t.pauseScrollHandler=!1,t.previous_content_available=!1,t.loading=!1,t.root.querySelector("#loadContentArea").classList.add("not-loading")}),RiotControl.on("ti_library_viewer_next_content_available",function(e){t.pauseScrollHandler=!1,t.next_content_available=!0,t.loading=!1,t.root.querySelector("#loadContentArea").classList.add("not-loading")}),RiotControl.on("ti_library_viewer_next_content_unavailable",function(e){t.pauseScrollHandler=!1,t.next_content_available=!1,t.loading=!1,t.root.querySelector("#loadContentArea").classList.add("not-loading")}),RiotControl.on("ti_library_viewer_loading_previous_content",function(e){t.pauseScrollHandler=!0,t.previous_content_available=!0,t.loading=!0,t.root.querySelector("#loadContentArea").classList.remove("not-loading")}),RiotControl.on("ti_library_viewer_loading_next_content",function(e){t.pauseScrollHandler=!0,t.next_content_available=!0,t.loading=!0,t.root.querySelector("#loadContentArea").classList.remove("not-loading")}),RiotControl.on("ti_library_viewer_pause_scroll_handler",function(e){t.pauseScrollHandler=!0}),RiotControl.on("ti_library_viewer_resume_scroll_handler",function(e){t.pauseScrollHandler=!1}),t.alreadyOnPage=function(e){var o=!1;return void 0!=t.store.current_topic&&void 0!=e&&null!=t.store.current_topic&&null!=e&&t.store.current_topic.length>=e.length&&(o=t.store.current_topic.indexOf(e)>-1),o},t.handle_menu=function(e){e||(e=window.event);var r=e.target||e.srcElement;if(e.preventDefault(),"A"!==r.tagName&&null!=r.parentNode&&(r=r.parentNode),"A"===r.tagName){if(0==r.getAttribute("href").indexOf("#"))return RiotControl.trigger("ti_library_viewer_scroll_to_anchor",{url:r.getAttribute("href")}),!1;var i=r.href,n=(r.pathname,t.store.toc_map[i]),a=null;if(void 0==n&&(a=o.getImprovedHref(t.store.toc_map,i),a.href&&void 0!=t.store.toc_map[a.href]&&(n=t.store.toc_map[a.href])),void 0!=n&&a&&a.href)if(null!=a.id&&t.alreadyOnPage(a.href))t.jumpToInternalAnchor(a.id);else{null!=a.id&&(document.cookie="jumpId="+a.id);var l=t.store.toc[n],c=l.href;null==a.id&&RiotControl.trigger("ti_library_viewer_pause_scroll_handler",{}),RiotControl.trigger("ti_library_viewer_pause_scroll_handler",{}),RiotControl.trigger("ti_library_route_open_viewer",{document:t.store.document,url:c,keep_toc:!0}),RiotControl.trigger("ti_library_hide_mobile_toc",{})}else if(void 0!=n){var l=t.store.toc[n],c=l.href;RiotControl.trigger("ti_library_route_open_viewer",{document:t.store.document,url:c,keep_toc:!0})}else console.log("no route identified for: "+i+"; redirecting"),t._open_in_same_window(i)}return!1},t.change_margin=function(e){var o=e.target.getAttribute("data-option");t._change_margin(o)},t._change_margin=function(e){var o={Small:"Full reading width",Medium:"Expanded reading width",Large:"Comfortable reading width"};t.margin=o[e];var r=t.root.querySelector("#loadContentArea > .odsContent"),i=document.querySelector('#tiLibrary_margin_dropdown a[data-option="'+e+'"]');if(i){var n=i.parentNode;n.parentNode.insertBefore(n,n.parentNode.firstElementChild),RiotControl.trigger("ti_library_viewer_save_to_local_storage",{type:"margin",value:e}),r.classList.remove("margin-small"),r.classList.remove("margin-medium"),r.classList.remove("margin-large"),r.classList.add("margin-"+e.toLowerCase())}},t.change_cardstyle=function(e){t.cardstyle=e.target.getAttribute("data-option");var o=t.root.querySelector("#loadContentArea"),r=t.root.querySelector("#loadContentArea > .odsContent"),i=t.root.querySelectorAll("#loadContentArea .documentSection"),n=t.root.querySelector("#loadContentArea > .odsContent > ti-raw");if("Card with All Content"==t.cardstyle){t.section_classes="",o.classList.add("card"),o.classList.add("white"),o.classList.add("darken-1"),o.classList.add("main"),o.classList.add("u-no-margin-bottom"),r.classList.remove("card-per-section");for(var a=0;a<i.length;a++)i[a].classList.remove("card"),i[a].classList.remove("white"),i[a].classList.remove("darken-1")}if("Card for Each Section"==t.cardstyle){t.section_classes="card white darken-1",o.classList.remove("card"),o.classList.remove("white"),o.classList.remove("darken-1"),o.classList.remove("main"),o.classList.remove("u-no-margin-bottom"),r.classList.add("card-per-section");for(var a=0;a<i.length;a++)i[a].classList.add("card"),i[a].classList.add("white"),i[a].classList.add("darken-1")}t.content=n.innerHTML,t.content=t._escape_text(t.content),t.update()},t.load_previous_section=function(e){t.loading||(t.loading=!0,console.log("loading previous section"),RiotControl.trigger("ti_library_viewer_previous_topic",{request_number:t.request_number}))},t.load_next_section=function(e){t.loading||(t.loading=!0,console.log("loading next section"),RiotControl.trigger("ti_library_viewer_next_topic",{request_number:t.request_number}))},t._fill_content=function(e,o){if(void 0!=e){var r=e.getBoundingClientRect().height,i=o.getBoundingClientRect().height;if(0==i)return void(t.pending_fill=!0);t.fullDoc||r<i?t.next_content_available?(t.loading&&t.current_content_height!=Math.round(r)&&(t.loading=!1,t.current_content_height=Math.round(r)),t.fullDoc&&t.fullDocPagesLoaded<t.store.toc.length?(t.load_next_section(),t.fullDocPagesLoaded++):t.fullDoc?t.loadContentArea.scrollTop=0:t.load_next_section()):e.style.paddingBottom=i-r+100+"px":e.style.paddingBottom=""}else t.pending_fill=!0},RiotControl.on("ti_library_viewer_scroll_to_title",function(e){var o=e.link;if(o){var r=o.getAttribute("href");RiotControl.trigger("ti_library_viewer_pause_scroll_handler",{}),RiotControl.trigger("ti_library_route_open_viewer",{document:t.store.document,url:r,keep_toc:!0}),RiotControl.trigger("ti_library_hide_mobile_toc",{}),t.loadContentArea.scrollTop=0}}),t.jumpToInternalAnchor=function(e){var o=!1,r="#"+e,i=t._get_anchor(t.loadContentArea,r);return null==i&&(i=t._get_anchor(t.root.querySelector("#loadContentArea"),r)),i&&(i.scrollIntoView(),o=!0,document.cookie="jumpId=; expires=Thu, 01 Jan 1970 00:00:00 UTC",RiotControl.trigger("ti_library_viewer_resume_scroll_handler",{})),o},t.jumpToTopForFirstSection=function(e){e||(e=t.store.current_topic),e&&0==t.store.toc_map[e]&&(t.updateHTMLTitle(),t.loadContentArea.scrollTop=0)},RiotControl.on("ti_library_viewer_scroll_to_anchor",function(e){var o=e.url,r=o.split("#"),i=r[1];null!=e.anchor&&(i=e.anchor);var n=t._get_anchor(t.loadContentArea,"#"+i);if(null==n&&(n=t._get_anchor(t.root.querySelector("#loadContentArea"),"#"+i)),e.search){var a=void 0,l=n;for(null==l&&(l=t.loadContentArea),null==l&&(l=t.root.querySelector("#loadContentArea"));void 0==a&&l!=t.loadContentArea.parentNode&&null!=l;)a=l.querySelector(".hilite"),l=l.parentNode;void 0!=a&&(n=a)}return null==n?(t.jumpToTopForFirstSection(e.url),!1):(n.scrollIntoView(),t.loadContentArea.scrollTop-=10,setTimeout(function(){e.prepopulated&&RiotControl.trigger("ti_library_viewer_prepopulate_search",{}),t.pauseScrollHandler=!1},200),void t.jumpToTopForFirstSection(e.url))}),RiotControl.on("ti_library_viewer_loaded_from_local_storage",function(e){var o={margin:t._change_margin},r=e.value;if(void 0==r&&(r=e.default_value),void 0!=r){var i=o[e.type];void 0!=i&&i(r)}}),RiotControl.on("ti_library_prepopulate_content",function(e){t.pauseScrollHandler=!0,t.content="<div class='"+t.section_classes+" documentSection' data-url='"+e.topic.href+"'>"+e.content.innerHTML+"</div>",t.content=t._highlight_content(t.content),t.content=t._escape_text(t.content),t.previous_content_available=!0,t.next_content_available=!0,t.update();var o=t.loadContentArea.querySelector(".odsContent");if(t._fill_content(o,t.loadContentArea),!e.populated&&(e.populated=!0,e.topic.href.indexOf("#")!=-1)){for(var r=t.root.querySelector("#loadContentArea").querySelectorAll("img"),i=0,n=0;n<r.length;n++)r[n].addEventListener("load",function(){i++,i==r.length&&(void 0!=e.scroll_timeout&&clearTimeout(e.scroll_timeout),e.scroll_timeout=setTimeout(function(){RiotControl.trigger("ti_library_viewer_scroll_to_anchor",{url:e.topic.href,prepopulated:!0})},600))}),r[n].addEventListener("error",function(){i++,i==r.length&&(void 0!=e.scroll_timeout&&clearTimeout(e.scroll_timeout),e.scroll_timeout=setTimeout(function(){RiotControl.trigger("ti_library_viewer_scroll_to_anchor",{url:e.topic.href,prepopulated:!0})},600))});0==r.length&&(void 0!=e.scroll_timeout&&clearTimeout(e.scroll_timeout),e.scroll_timeout=setTimeout(function(){RiotControl.trigger("ti_library_viewer_scroll_to_anchor",{url:e.topic.href,prepopulated:!0})},600))}}),t.on("mount",function(){t.loadContentArea.addEventListener("click",t.handle_menu,!1);var e=[{selector:"#previous_content_placeholder",offset:3,direction:"top",callback:function(e){t.load_previous_section(e)}},{selector:"#next_content_placeholder",offset:3,direction:"bottom",callback:function(e){t.load_next_section(e)}}];$(t.loadContentArea).scroll(function(){t.didScroll=!0}),setInterval(function(){if((t.pauseScrollHandler||t.loading)&&(t.didScroll=!1),t.didScroll&&!t.pauseScrollHandler){t.pauseScrollHandler=!0,t.didScroll=!1;var o=t.root.querySelector("#loadContentArea");if(void 0==o)return void(t.pauseScrollHandler=!1);var r=o.getBoundingClientRect(),i=r.top,n=r.height;if(i<0||n>window.innerHeight)return void(t.pauseScrollHandler=!1);for(var a=0;a<e.length;a++){var l=e[a],c=l.selector,s=l.offset,d=l.direction,_=l.callback,u=t.root.querySelector(c);if(null!==u){var p=u.getBoundingClientRect(),m=(p[d],!1);if("top"==d&&(m=0===o.scrollTop),"bottom"==d){var h=t.root.querySelector("#next_content_placeholder").getBoundingClientRect();m=i+n>h.top+s}if(m){if("function"==typeof _)_.call(this,u);else if("string"==typeof _){var v=new Function(_);v(u)}break}}}var g=t._determine_current_topic(r);t.pauseScrollHandler=!1,void 0!=g&&g!=t.current_topic&&(t.current_topic=g,RiotControl.trigger("ti_library_viewer_set_current_topic",{topic:t.current_topic.href,skip_scroll:!0}),RiotControl.trigger("ti_library_update_active_menu_item",{topic:t.current_topic.element}))}},100),t.mounted=!0,t._resolve_pending_fill(),t.margin&&"Full reading width"==t.margin&&t._change_margin("Small")}),t.on("updated",function(){try{t._resolve_pending_fill(),null!=MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,t.root.querySelector("#loadContentArea")]),t.root.querySelector("#loadContentArea").focus()}catch(e){}}),t._resolve_pending_fill=function(){if(t.pending_fill){t.pending_fill=!1;var e=t.loadContentArea.querySelector(".odsContent");t._fill_content(e,t.loadContentArea)}},t._determine_current_topic=function(e){for(var o=void 0,r=-9999999999,i=e.bottom,n=0;n<t.store.toc.length;n++){var a=t.store.toc[n];if(t.store.loaded_topics[a.href]){var l=a.anchor,c=a.label,s=t._get_anchor(t.root,l);if(s){var d=c.replace(/[^0-9.]/g,""),_=s.innerHTML.replace(/[^0-9.]/g,"");if(_==d){var u=s.getBoundingClientRect().top;u<.5*e.bottom&&(u>=e.top?u<i&&(o=n,i=u):u>r&&(o=n,r=u))}}}}return t.store.toc[o]},t._trim_content=function(e,o,r){for(var i=r.scrollHeight,n=r.getBoundingClientRect().height,a=t.root.querySelectorAll("#loadContentArea .documentSection");i>5*n&&a.length>=2;){var l=void 0;if("top"==e){if(l=a[a.length-1],i-l.scrollHeight<n)break;t.next_content_available=!0}else{if(l=a[0],i-l.scrollHeight<n)break;t.previous_content_available=!0}var c=l.getAttribute("data-url");o.removeChild(l),RiotControl.trigger("ti_library_viewer_unload_topic",{topic:c}),a=t.root.querySelectorAll("#loadContentArea .documentSection"),i=r.scrollHeight,n=r.getBoundingClientRect().height}t.content=o.innerHTML},t._highlight_content=function(e){if("toc"==t.current_section)return t.has_unhighlighted_content=!0,e;e=t._clear_highlight(e);for(var o=0;o<t.highlight_terms.length;o++)e=e.replace(new RegExp("("+t.highlight_terms[o]+")(?![^<]*>)","gi"),'<span class="hilite">$1</span>').replace(/<span class="hilite">(<span class="hilite">.+?<\/span>)<\/span>/g,"$1");return t.has_unhighlighted_content=!1,e},t._clear_highlight=function(e){return e.replace(/<span class="hilite">(.+?)<\/span>/g,"$1")},t._get_anchor=function(e,t){var o,r=t;if(null!=t){var i=t.split("/");i.length>1&&(r="#"+i[i.length-1])}try{o=e.querySelector(r)}catch(n){console.log("Invalid anchor encountered: "+r),o=e.querySelector('[id="'+r.replace(/^#/,"")+'"]')}return o},t._escape_text=function(e){return e.replace(/\\?{/g,"&#123;").replace(/\\?}/g,"&#125;")},t._open_in_same_window=function(e){window.location.href=e}}),riot.tag("ti-library-viewer-footer",'<footer class="card footer" data-lid="ti-library-viewer-footer"> <a target="_blank" href="{ url_home }" class="brand flex3"> <span class="u-hidden-visually">Texas Instruments</span> </a> <div class="legal flex9"> <p><a target="_blank" href="//www.ti.com/legal/terms-conditions/copyright.html" >&copy; Copyright 1995-<span id="copyear">{ current_year }</span></a> Texas Instruments Incorporated. All rights reserved.<br> <span class=""> <a target="_blank" href="https://www.ti.com/feedbackform/techdocfeedback?litnum={ litnum }&partnum={ partnum }" class="submit-feedback">Submit documentation feedback</a> | <a target="_blank" href="{ important_notice_url }" onclick="{ handle_menu }">IMPORTANT NOTICE</a> | </span> <a target="_blank" href="//www.ti.com/legal/terms-conditions/trademarks.html">Trademarks</a> | <a target="_blank" href="{ url_path }legal/terms-conditions/privacy-policy.html">Privacy policy</a> | <a target="_blank" href="{ url_path }legal/terms-conditions/cookie-policy.html">Cookie policy</a> | <a target="_blank" href="{ url_path }legal/terms-conditions/terms-of-use.html">Terms of use</a> | <a target="_blank" href="{ url_path }legal/terms-conditions/terms-of-sale.html">Terms of sale</a> </p> </div> </footer>',function(e){var t=this;t.store=e.viewerstore,t.current_year=(new Date).getFullYear(),t.important_notice_url=t.store.important_notice_url;var o="document-viewer/",r=window.location.href,i=r.indexOf(o)+o.length,n=r.substring(i,r.indexOf("/",i));switch(n){case"ja-jp":t.url_path="//www.ti.com/ja-jp/",t.url_home="//www.ti.com/ja-jp/homepage.html";break;case"cn":t.url_path="//www.ti.com.cn/zh-cn/",t.url_home="//www.ti.com.cn/";break;default:t.url_path="//www.ti.com/",t.url_home="//www.ti.com/"}t.handle_menu=function(e){e||(e=window.event);e.target||e.srcElement;return e.preventDefault(),RiotControl.trigger("ti_library_route_open_viewer",{document:t.store.document,url:t.important_notice_url,keep_toc:!0}),!1},RiotControl.on("ti_library_prepopulate_description",function(e){t._populate_feedback_form()}),RiotControl.on("ti_library_retrieve_document_odsHeader",function(e){t._populate_feedback_form()}),t._populate_feedback_form=function(){t.litnum=(t.store.lit_num||"").toUpperCase(),t.partnum=(t.store.gpn||"").toUpperCase(),t.update()}}),riot.tag("ti-library-viewer-side-bar",'<div class="cEnd tab-slider" data-lid="ti-library-viewer-side-bar"> <ti-library-viewer-tab-bar store="{ store }"></ti-library-viewer-tab-bar> <div class="row tab-slider-content js-tab-slider-content u-no-margin-bottom"> <div class="c6 cEnd tab-slider-content-column" id="ti_library_viewer_contents" data-lid="ti-library-viewer-toc"> <div> <ul class="no-style card"> <li id="doc-lister" > <span><ti-raw content="{ document.label }"></ti-raw></span> </li> </ul> </div> <div id="viewer_navTree" onclick="{ handle_menu }" class="toc_hierarchy overflow"></div> <div id="viewer_poa" data-lid="ti-library-viewer-poa"></div> </div> <div class="c6 cEnd tab-slider-content-column" id="ti_library_viewer_search" data-lid="ti-library-viewer-search"> <div class="search-container no-style card" id="search_box"> <ti-search store="{ store }" riot_trigger="ti_library_search_document"></ti-search> </div> <div id="search_content" onclick="{ handle_search_menu }" class="toc_hierarchy overflow"> <ol> <li each="{ matches, index in matches }"> <a href="{ matches.href }" class="no-children"> <ti-raw content="{ matches.label }"></ti-raw> </a> <span class="search_result_num">{ matches.count }</span> </li> </ol> </div> </div> </div>  </div>',function(e){var t=this,o=com.TI.util;t.store=e.store,t.viewerstore=e.viewerstore,t.document={},t.current_section="toc",t.dictionary=com.TI.dictionary,t.rootList=null,t.topics=[],t.maxChars=[],t.search_rootList=null,t.search_topics=[],t.chapterFocused=null,t.matches=[],t.scroll_timeout=null,t.minimize_menu_timeout=null,t.open_menu_timeout=null,t.closing_menu_items=[],t.mounted=!1,t.pending_toc=!1,t.pending_toc_args={},t.pending_preset_toc=!1,t.pending_preset_toc_args={},t.pending_search=!1,t.pending_search_args={},t.hide_search_results=!1,RiotControl.on("ti_library_viewer_change_sections",function(e){t.current_section=e.section}),RiotControl.on("ti_library_hide_toc",function(){$("#ti_library_viewer_contents").hide(),t.current_section="search",t.hide_search_results=!0}),RiotControl.on("ti_library_viewer_setup_html_title",function(e){var o=$(t.root.querySelector("#doc-lister"));o&&o.length>0&&(o[0].classList.add("toc-title"),o[0].removeEventListener("click",t.onClickHtmlMenuTitle),o[0].addEventListener("click",t.onClickHtmlMenuTitle))}),t.onClickHtmlMenuTitle=function(){var e=t.root.querySelector("#viewer_navTree");if(e){var o=e.querySelector("a");RiotControl.trigger("ti_library_viewer_scroll_to_title",{link:o})}},t.handle_menu=function(e){e||(e=window.event);var o=e.target||e.srcElement;if(e.preventDefault(),"LI"===o.tagName&&(o=o.querySelector("a")),"A"===o.tagName){var r=o.getAttribute("href");RiotControl.trigger("ti_library_viewer_pause_scroll_handler",{}),RiotControl.trigger("ti_library_route_open_viewer",{document:t.document,url:r,keep_toc:!0}),t._toggle_menu_item(o.parentNode),RiotControl.trigger("ti_library_hide_mobile_toc",{})}},t.handle_search_menu=function(e){e||(e=window.event);var o=e.currentTarget,r=e.target||e.srcElement,i=r;e.preventDefault();for(var n;"LI"!=i.tagName;)if(i=i.parentNode,i==o)return console.log("No LI element found in search result click event"),!1;n=i.querySelector("a").getAttribute("href"),RiotControl.trigger("ti_library_viewer_pause_scroll_handler",{}),RiotControl.trigger("ti_library_route_open_viewer",{document:t.document,url:n,keep_toc:!0}),t._focus_element(i),RiotControl.trigger("ti_library_hide_mobile_toc",{})},t._toggle_menu_item=function(e,o){t._element_is_opened(e)?t._close_element(e):t._open_element(e),t._focus_element(e),t._check_active_topics(t.topics)},t._element_is_opened=function(e){return o.hasClass(e,"toc-open")},t._open_element=function(e){var r=e.querySelector("ol");null!=r&&(t._open_menu(r),o.addClass(e,"toc-open"))},t._close_element=function(e){var r=e.querySelector("ol");null!=r&&(o.removeClass(e,"toc-open"),t._close_menu(r))},t._focus_element=function(e){var r=e.querySelector("a");if(t.chapterFocused==r)return void RiotControl.trigger("ti_library_viewer_resume_scroll_handler",{});if(null!=t.chapterFocused){o.removeClass(t.chapterFocused.parentNode,"toc-selected");var i=t._find_new_focus_element();o.removeClass(i,"toc-focus")}t.chapterFocused=r,o.addClass(t.chapterFocused.parentNode,"toc-selected");var i=t._find_new_focus_element();o.addClass(i,"toc-focus"),t._scroll_to_topic({topic:t.chapterFocused})},t._find_new_focus_element=function(){return o.hasClass(t.chapterFocused,"no-children")&&null!=t.chapterFocused.parentNode.parentNode?t.chapterFocused.parentNode.parentNode.parentNode:t.chapterFocused.parentNode},t._open_menu_item=function(e){t._open_element(e)},t._open_menu=function(e){if(!o.hasClass(e,"show")){null==e.querySelector(".toc_label")&&t._separate_numbers_in_toc(e.querySelectorAll("li > a")),o.addClass(e,"show");var r=t.chapterFocused,i=void 0;void 0!=r&&(i=r.getBoundingClientRect().top),e.setAttribute("style","height:"+e.scrollHeight+"px"),e.style.height=e.scrollHeight+"px",setTimeout(function(){var t=e;t.setAttribute("style","height:inherit"),t.style.height="inherit"},300),void 0!=t.open_menu_timeout&&clearTimeout(t.open_menu_timeout),t.open_menu_timeout=setTimeout(function(){var e=t.root.querySelector("#viewer_navTree");if(void 0!=r&&void 0!=t.chapterFocused&&null!=e){var o=t.chapterFocused.getBoundingClientRect(),n=(e.getBoundingClientRect(),r.getBoundingClientRect().top);n-o.bottom>=0&&n-o.bottom<5&&(e.scrollTop+=o.top-i)}},400)}},t._close_menu_item=function(e){t._close_element(e)},t._close_menu=function(e){if(o.hasClass(e,"show")){o.removeClass(e,"show");var r=e.getBoundingClientRect();e.setAttribute("style","height:"+r.height+"px"),e.style.height=r.height+"px",t.closing_menu_items.push(e),void 0!=t.minimize_menu_timeout&&clearTimeout(t.minimize_menu_timeout),t.minimize_menu_timeout=setTimeout(function(){for(;t.closing_menu_items.length>0;){var e=t.closing_menu_items.pop();e.setAttribute("style","height:0px"),e.style.height="0px"}},300)}},t._check_active_topics=function(e){for(var r=!1,i=0;i<e.length;i++)if(o.hasClass(e[i],"toc-open")){o.addClass(t.rootList,"is-active"),r=!0;break}r||o.removeClass(t.rootList,"is-active")},RiotControl.on("ti_library_update_active_menu_item",function(e){"toc"==t.current_section&&t._update_active_menu_item(e),"search"==t.current_section&&t._update_search_active_menu_item(e)}),t._update_active_menu_item=function(e){var r=e.topic;if(t.chapterFocused==r)o.hasClass(t.chapterFocused.parentNode,"toc-selected")||o.addClass(t.chapterFocused.parentNode,"toc-selected");else{if(null==t.rootList)return;t._open_ancestors(r),t._focus_element(r.parentNode),t._check_active_topics(t.topics)}},t._update_search_active_menu_item=function(e){for(var r=e.topic,i=0;i<t.search_topics.length;i++)t.search_topics[i].children[0].href==e.topic.href&&(r=t.search_topics[i].children[0]);t.chapterFocused==r?o.hasClass(t.chapterFocused.parentNode,"toc-selected")||o.addClass(t.chapterFocused.parentNode,"toc-selected"):t._focus_element(r.parentNode)},t._scroll_to_topic=function(e){return"search"!=t.current_section&&(void 0!=t.scroll_timeout&&clearTimeout(t.scroll_timeout),void(t.scroll_timeout=setTimeout(function(){if("search"==t.current_section)return!1;if(null==t.viewer_navTree.parentNode)return!1;var o=e.topic,r=t.viewer_navTree.getBoundingClientRect(),i=o.getBoundingClientRect();r.top>i.top&&(t.viewer_navTree.scrollTop+=i.top-r.top),r.bottom<i.bottom&&(t.viewer_navTree.scrollTop+=i.bottom-r.bottom)},300)))},RiotControl.on("ti_library_set_document_title",function(e){e.document&&e.document.title&&(t.document.label=e.document.title,t.update())}),RiotControl.on("ti_library_set_document_toc",function(e){t.mounted?t._set_toc(e):(t.pending_toc=!0,t.pending_toc_args=e)}),t._set_toc=function(e){$(t.root.querySelector("#viewer_navTree")).html(e.toc),null==t.maxChars[0]&&(t.maxChars=t._get_max_chars_in_toc(t.root.querySelectorAll("#viewer_navTree a"))),t._separate_numbers_in_toc(t.root.querySelectorAll("#viewer_navTree > ol > li > a")),t._append_important_notice(),t.document.href=e.document.href,t.document.lit_num=e.document.lit_num,t._index_toc(e.topic),t._menu_tree_init()},RiotControl.on("ti_library_doc_search_display_results",function(e){t.mounted?t._display_search_results(e):(t.pending_search=!0,t.pending_search_args=e)}),t._display_search_results=function(e){var r=e.keyword,i=e.data.totalmatches;o.removeClass(t.root.querySelector("#search_box .helper-text"),"is-hidden"),o.removeClass(t.root.querySelector("#search_box .search-wrapper"),"is-error"),o.removeClass(t.root.querySelector("#search_box .bar"),"animate-ripple"),t.root.querySelector("#search_box .helper-text").innerHTML=i+' matches found for "'+r+'".',t._legacy_populate_search_results(e),t._update()},t._update=function(){var e=!!window.MSInputMethodContext&&!!document.documentMode;e?setTimeout(function(){t.update()},800):t.update()},RiotControl.on("ti_library_doc_search_display_progress",function(e){o.addClass(t.root.querySelector("#search_box .bar"),"animate-ripple")}),RiotControl.on("ti_library_doc_search_display_error",function(e){var r=e.keyword;o.removeClass(t.root.querySelector("#search_box .bar"),"animate-ripple"),o.addClass(t.root.querySelector("#search_box .search-wrapper"),"is-error"),t.root.querySelector("#search_box .helper-text").innerHTML='No matches found for "'+r+'".',t._legacy_clear_search_results(),t._update()}),RiotControl.on("ti_library_prepopulate_toc",function(e){t.mounted?t._preset_toc(e):(t.pending_preset_toc=!0,t.pending_preset_toc_args=e)}),t._preset_toc=function(e){void 0!=e.toc&&e.toc.children&&e.toc.children.length>1?($(t.root.querySelector("#viewer_navTree")).html(e.toc.children[0].outerHTML),$(t.root.querySelector("#viewer_poa")).html(e.toc.children[1].outerHTML)):$(t.root.querySelector("#viewer_navTree")).html(e.toc.innerHTML),t.maxChars=t._get_max_chars_in_toc(t.root.querySelectorAll("#viewer_navTree a")),t._separate_numbers_in_toc(t.root.querySelectorAll("#viewer_navTree > ol > li > a")),t._append_important_notice(),t.document.href=e.document.href,t.document.lit_num=e.document.lit_num,t._index_toc(e.topic,!0),t._menu_tree_init()},t._get_max_chars_in_toc=function(e){for(var t=[0],o=e.length-1;o>=0;o--){var r=e[o].innerHTML,i=r.match(/^[0-9.]+/);if(null!=i&&1==i.length){var n=i[0];i=i[0];var a=i.split(".");(null==t[a.length]||t[a.length]<n.length)&&(t[a.length]=n.length)}}for(var l=0;l<t.length-1;l++)t[l]>=t[l+1]&&(t[l+1]=t[l]+1);return t},t._separate_numbers_in_toc=function(e){},t._append_important_notice=function(){var e=t.root.querySelector("#viewer_navTree > ol");if(void 0!=e){var o=document.createElement("li");o.innerHTML='<a href="'+t.important_notice_url+'">'+this.dictionary.get("IMPORTANT_NOTICE",t.viewerstore.documentLocale)+" </a>",e.appendChild(o),RiotControl.trigger("ti_library_viewer_index_impnot",{element:o.querySelector("a")})}},t._legacy_populate_search_results=function(e){var o=e.data;0==t.hide_search_results&&(t.matches=o.matches);var r=o.terms;t.search_rootList=t.root.querySelector("#search_content ol"),t.search_topics=t.search_rootList.children,RiotControl.trigger("ti_library_viewer_highlight_terms",{terms:r})},t._legacy_clear_search_results=function(){t.matches=[],t.search_rootList=t.root.querySelector("#search_content ol"),t.search_topics=t.search_rootList.children,RiotControl.trigger("ti_library_viewer_clear_highlight",{})},t._find_search_terms=function(e){for(var t={},o=0;o<e.length;o++)terms_matched=e[o].match(/<span class='hilite'>(.+?)<\/span>/i),terms_matched.length>=2&&(t[terms_matched[1]]=!0);return Object.keys(t)},t._index_toc=function(e,t){RiotControl.trigger("ti_library_viewer_index_toc",{toc:$("#viewer_navTree a"),topic:e,preloaded:t})},t._menu_tree_init=function(){t.rootList=t.root.querySelector("#viewer_navTree ol"),t.topics=t.rootList.children,t._hide_arrow(t.rootList)},t._hide_arrow=function(e){for(var t=e.querySelectorAll("li"),r=0;r<t.length;r++)null===t[r].querySelector("ol")&&o.addClass(t[r].querySelector("a"),"no-children")},t._open_ancestors=function(e){var r=e,i=r.parentNode;for(t._open_menu_item(i);null!=i&&"viewer_navTree"!=i.id;){if("OL"==r.tagName&&t._open_menu(r),"LI"==r.tagName){var n=r.querySelector("ol");null!=n&&(o.addClass(r,"toc-open"),t._separate_numbers_in_toc(r.querySelectorAll("a")))}r=i,i=i.parentNode}if("LI"==r.tagName){var n=r.querySelector("ol");null!=n&&o.addClass(r,"toc-open")}},t.on("mount",function(){riot.mount("ti-search, ti-library-viewer-tab-bar",{store:t.store}),t.important_notice_url=t.viewerstore.important_notice_url,t.mounted=!0,t.pending_toc&&(t.pending_toc=!1,t._set_toc(t.pending_toc_args)),t.pending_preset_toc&&(t.pending_preset_toc=!1,t._preset_toc(t.pending_preset_toc_args)),t.pending_search&&(t.pending_search=!1,t._display_search_results(t.pending_search_args))})}),riot.tag("ti-library-viewer-tab-bar",'<ul id="tab-bar" class="tiLibrary-tabs no-style" style="width: 100%;" data-lid="ti-library-viewer-tab-bar"> <li class="tiLibrary-tab" each="{ tabs }"> <a class="{ self.is_current_tab(id) ? \'active\' : \'\' }" onclick="{ change_sections }" href="{ href }" data-id="{ id }">{ label }</a> </li> </ul>',function(e){var t=this;t.tabs=[{id:"ti_library_viewer_contents",label:"CONTENTS",href:"#ti_library_viewer_contents",section:"toc"},{id:"ti_library_viewer_search",label:"SEARCH",href:"#ti_library_viewer_search",section:"search"}],t.current_tab=t.tabs[0].id,t.mounted=!1,t.initialized=!1,t.prepopulate_search=!1,t.hide_search_results=!1,t.is_current_tab=function(e){return t.current_tab==e},t.change_sections=function(e){return RiotControl.trigger("ti_library_viewer_change_sections",{section:e.item.section}),t.current_tab=e.item.id,!1},t.on("mount",function(){t.mounted=!0,t.initialized&&t.prepopulate_search&&(t.prepopulate_search=!1,t._search())}),t._search=function(){t.root.querySelector("a[data-id=ti_library_viewer_search]").click()},t._initialize_tabs=function(){t.initialized=!0,$(t.root.querySelector("ul.tiLibrary-tabs")).tabs({hide_search_results:t.hide_search_results}),t.mounted&&t.prepopulate_search&&(t.prepopulate_search=!1,t._search())},RiotControl.on("ti_library_hide_toc",function(){t.hide_search_results=!0,$("#tab-bar").find("li").first().hide(),$(t.root.querySelector("ul.tiLibrary-tabs")).addClass("noclick"),t.current_tab=t.tabs[1].id}),RiotControl.on("ti_library_viewer_search",function(e){t.mounted&&t.initialized?t._search():t.prepopulate_search=!0}),RiotControl.on("ti_library_initialize_tabs",function(e){t._initialize_tabs()})}),riot.tag("ti-library-viewer",'<div class="modal" id="tiLibrary_viewer" data-lid="ti-library-viewer"> <div class="modal-content"> <ti-library-viewer-command-bar></ti-library-viewer-command-bar> <div class="modal-inner-content"> <ti-library-viewer-side-bar class="flex3 viewer-sidebar" store="{ store }" viewerstore="{ viewerstore }" document="{ document }"> </ti-library-viewer-side-bar> <ti-library-viewer-content-area class="flex9 viewer-content" store="{ store }" viewerstore="{ viewerstore }"> </ti-library-viewer-content-area> </div> <ti-library-viewer-footer viewerstore="{ viewerstore }"> </ti-library-viewer-footer> </div> <div class="u-hidden" id="prepopulated_description"> <yield from="description"></yield> </div> <div class="u-hidden" id="prepopulated_toc"> <yield from="toc"></yield> </div> <div class="u-hidden" id="prepopulated_content"> <yield from="contents"></yield> </div> <ti-about></ti-about> </div>',function(e){
var t=this;utils=com.TI.util,t.store=e.store,t.viewerstore=e.viewerstore,t.document=void 0,t.url=e.url,t.windowHeight=void 0,t.opened=!1,t.find_event_interceptor=void 0,t.version="v1.6.5",riot.settings.asyncRenderTimeout=2e3,t.getPartIndex=function(e,t){for(var o=-1,r=0;r<t.length;r++)t[r]==e&&(o=r);return o},t.isOldBookmark=function(e){var t=!1,o=e.split("#"),r=o[0],i=r.split("/");if(r.indexOf("/html/")>-1&&i.length>2){var n=i[i.length-3];"html"==n&&(t=!0)}else if(r.indexOf("/datasheet")>-1&&i.length>2){var a=i[i.length-1];0!=a.indexOf("datasheet")&&(t=!0)}return t},RiotControl.on("ti_library_open_viewer",function(e){t.document=e.document,"false"==t.document.show_toc&&RiotControl.trigger("ti_library_hide_toc",{}),t.url=e.url;var o=riot.route.query().search||"";if(o.indexOf("#")!=-1){var r=o.split("#");o=r[0]}if(o>""&&(t.document.keyword=decodeURIComponent(o)),e.prepopulated){var i=window.location.hash;e.url.indexOf("#")==-1&&i>""&&(e.url=e.url+i),RiotControl.trigger("ti_library_set_document_title",{document:t.document}),RiotControl.trigger("ti_library_prepopulate_description",{document:t.document,odsHeader:t.prepopulated_description}),RiotControl.trigger("ti_library_prepopulate_toc",{document:t.document,topic:e.url,toc:t.prepopulated_toc})}else e.init||0==t.viewerstore.toc.length?(RiotControl.trigger("ti_library_retrieve_document_toc",{document:t.document,topic:e.url}),RiotControl.trigger("ti_library_retrieve_document_odsHeader",{document:t.document})):e.set_content?t.isOldBookmark(e.url)?RiotControl.trigger("ti_library_redirect_to_single_url",{url:e.url}):RiotControl.trigger("ti_library_viewer_set_content",{topic:e.url}):console.log("!args.init && !args.set_content -- invalid state");if(!t.opened){t.opened=!0;var n=e.modalOptions||{};$(t.tiLibrary_viewer).openModal(n),RiotControl.trigger("ti_library_initialize_tabs",{}),t.find_event_interceptor=window.addEventListener("keydown",function(e){26==e.which?1:0;(70!=e.keyCode&&102!=e.keyCode||!e.ctrlKey&&!e.metaKey?0:1)&&"search"!=t.viewerstore.current_section&&(RiotControl.trigger("ti_library_viewer_search",{keyword:""}),e.preventDefault())}),t._is_mobile_device()&&t._enable_full_screen()}RiotControl.trigger("ti_library_initialize_tabs",{})}),RiotControl.on("ti_library_finished_prepopulating_toc",function(e){RiotControl.trigger("ti_library_prepopulate_content",{document:t.document,topic:e.topic,content:t.prepopulated_content})}),RiotControl.on("ti_library_viewer_prepopulate_search",function(e){t.document.keyword>""&&(RiotControl.trigger("ti_library_viewer_search",{keyword:t.document.keyword}),delete t.document.keyword)}),RiotControl.on("ti_library_toggle_mobile_toc",function(e){utils.hasClass(t.root.querySelector(".viewer-sidebar"),"show")?utils.removeClass(t.root.querySelector(".viewer-sidebar"),"show"):utils.addClass(t.root.querySelector(".viewer-sidebar"),"show")}),RiotControl.on("ti_library_hide_mobile_toc",function(e){utils.removeClass(t.root.querySelector(".viewer-sidebar"),"show")}),RiotControl.on("ti_library_close_viewer",function(){t.close_viewer(t)}),t.close_viewer=function(e){var t=riot.route.query();delete t.document,delete t.url,riot.route("/"+$.param(t,!0)),$(e.tiLibrary_viewer).closeModal(),window.removeEventListener("keydown",e.find_event_interceptor),e.opened=!1,e._is_mobile_device()&&e._disable_full_screen()},void 0!=e.closeFunction&&(t.close_viewer=e.closeFunction),RiotControl.on("ti_library_fade_out",function(){t.tiLibrary_viewer.classList.add("mod-modal-bg-transparent")}),RiotControl.on("ti_library_fade_in",function(){t.tiLibrary_viewer.classList.remove("mod-modal-bg-transparent")}),t._is_mobile_device=function(){return screen.width<767.98},t._enable_full_screen=function(){var e=t.root,o=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen;o.call(e)},t._disable_full_screen=function(){var e=window.document,t=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;t.call(e)},t.on("mount",function(){t.prepopulated_description.remove(),t.prepopulated_toc.remove(),t.prepopulated_content.remove(),riot.mount("ti-library-viewer-command-bar, ti-library-viewer-side-bar, ti-library-viewer-content-area",{store:t.store,document:t.document,viewerstore:t.viewerstore})})});